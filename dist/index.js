!function(e,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var t=n();for(var r in t)("object"==typeof exports?exports:e)[r]=t[r]}}(self,(()=>(()=>{"use strict";var e={327:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),i=t.n(r),a=t(645),o=t.n(a)()(i());o.push([e.id,'.d-flex\r\n{\r\n    display: flex !important;\r\n}\r\n\r\n.flex-row\r\n{\r\n    flex-direction: row !important;\r\n}\r\n.flex-column\r\n{\r\n    flex-direction: column !important;\r\n}\r\n.justify-content-between\r\n{\r\n    justify-content: space-between !important;\r\n}\r\n\r\n.justify-content-center\r\n{\r\n    justify-content: center !important;\r\n}\r\n\r\n.justify-content-start\r\n{\r\n    justify-content: flex-start !important;\r\n}\r\n.justify-content-end\r\n{\r\n    justify-content: flex-end !important;\r\n}\r\n\r\n.align-items-center\r\n{\r\n    align-items: center !important;\r\n}\r\n\r\n.align-items-start\r\n{\r\n    align-items: flex-start !important;\r\n}\r\n.align-items-end\r\n{\r\n    align-items: flex-end !important;\r\n}\r\n\r\n.rtl\r\n{\r\n    direction: rtl !important;\r\n}\r\n\r\n.ltr\r\n{\r\n    direction: ltr !important;\r\n}\r\n\r\n.w-25 {\r\n    width: 25% !important;\r\n}\r\n\r\n.w-50 {\r\n    width: 50% !important;\r\n}\r\n\r\n.w-75 {\r\n    width: 75% !important;\r\n}\r\n\r\n.w-100 {\r\n    width: 100% !important;\r\n}\r\n\r\n.h-25 {\r\n    height: 25% !important;\r\n}\r\n\r\n.h-50 {\r\n    height: 50% !important;\r\n}\r\n\r\n.h-75 {\r\n    height: 75% !important;\r\n}\r\n\r\n.h-100 {\r\n    height: 100% !important;\r\n}\r\n\r\n.mw-100 {\r\n    max-width: 100% !important;\r\n}\r\n\r\n.mh-100 {\r\n    max-height: 100% !important;\r\n}\r\n\r\n.m-0 {\r\n    margin: 0 !important;\r\n}\r\n\r\n.mt-0,\r\n.my-0 {\r\n    margin-top: 0 !important;\r\n}\r\n\r\n.mr-0,\r\n.mx-0 {\r\n    margin-right: 0 !important;\r\n}\r\n\r\n.mb-0,\r\n.my-0 {\r\n    margin-bottom: 0 !important;\r\n}\r\n\r\n.ml-0,\r\n.mx-0 {\r\n    margin-left: 0 !important;\r\n}\r\n\r\n.m-1 {\r\n    margin: 0.25rem !important;\r\n}\r\n\r\n.mt-1,\r\n.my-1 {\r\n    margin-top: 0.25rem !important;\r\n}\r\n\r\n.mr-1,\r\n.mx-1 {\r\n    margin-right: 0.25rem !important;\r\n}\r\n\r\n.mb-1,\r\n.my-1 {\r\n    margin-bottom: 0.25rem !important;\r\n}\r\n\r\n.ml-1,\r\n.mx-1 {\r\n    margin-left: 0.25rem !important;\r\n}\r\n\r\n.m-2 {\r\n    margin: 0.5rem !important;\r\n}\r\n\r\n.mt-2,\r\n.my-2 {\r\n    margin-top: 0.5rem !important;\r\n}\r\n\r\n.mr-2,\r\n.mx-2 {\r\n    margin-right: 0.5rem !important;\r\n}\r\n\r\n.mb-2,\r\n.my-2 {\r\n    margin-bottom: 0.5rem !important;\r\n}\r\n\r\n.ml-2,\r\n.mx-2 {\r\n    margin-left: 0.5rem !important;\r\n}\r\n\r\n.m-3 {\r\n    margin: 1rem !important;\r\n}\r\n\r\n.mt-3,\r\n.my-3 {\r\n    margin-top: 1rem !important;\r\n}\r\n\r\n.mr-3,\r\n.mx-3 {\r\n    margin-right: 1rem !important;\r\n}\r\n\r\n.mb-3,\r\n.my-3 {\r\n    margin-bottom: 1rem !important;\r\n}\r\n\r\n.ml-3,\r\n.mx-3 {\r\n    margin-left: 1rem !important;\r\n}\r\n\r\n.m-4 {\r\n    margin: 1.5rem !important;\r\n}\r\n\r\n.mt-4,\r\n.my-4 {\r\n    margin-top: 1.5rem !important;\r\n}\r\n\r\n.mr-4,\r\n.mx-4 {\r\n    margin-right: 1.5rem !important;\r\n}\r\n\r\n.mb-4,\r\n.my-4 {\r\n    margin-bottom: 1.5rem !important;\r\n}\r\n\r\n.ml-4,\r\n.mx-4 {\r\n    margin-left: 1.5rem !important;\r\n}\r\n\r\n.m-5 {\r\n    margin: 3rem !important;\r\n}\r\n\r\n.mt-5,\r\n.my-5 {\r\n    margin-top: 3rem !important;\r\n}\r\n\r\n.mr-5,\r\n.mx-5 {\r\n    margin-right: 3rem !important;\r\n}\r\n\r\n.mb-5,\r\n.my-5 {\r\n    margin-bottom: 3rem !important;\r\n}\r\n\r\n.ml-5,\r\n.mx-5 {\r\n    margin-left: 3rem !important;\r\n}\r\n\r\n.p-0 {\r\n    padding: 0 !important;\r\n}\r\n\r\n.pt-0,\r\n.py-0 {\r\n    padding-top: 0 !important;\r\n}\r\n\r\n.pr-0,\r\n.px-0 {\r\n    padding-right: 0 !important;\r\n}\r\n\r\n.pb-0,\r\n.py-0 {\r\n    padding-bottom: 0 !important;\r\n}\r\n\r\n.pl-0,\r\n.px-0 {\r\n    padding-left: 0 !important;\r\n}\r\n\r\n.p-1 {\r\n    padding: 0.25rem !important;\r\n}\r\n\r\n.pt-1,\r\n.py-1 {\r\n    padding-top: 0.25rem !important;\r\n}\r\n\r\n.pr-1,\r\n.px-1 {\r\n    padding-right: 0.25rem !important;\r\n}\r\n\r\n.pb-1,\r\n.py-1 {\r\n    padding-bottom: 0.25rem !important;\r\n}\r\n\r\n.pl-1,\r\n.px-1 {\r\n    padding-left: 0.25rem !important;\r\n}\r\n\r\n.p-2 {\r\n    padding: 0.5rem !important;\r\n}\r\n\r\n.pt-2,\r\n.py-2 {\r\n    padding-top: 0.5rem !important;\r\n}\r\n\r\n.pr-2,\r\n.px-2 {\r\n    padding-right: 0.5rem !important;\r\n}\r\n\r\n.pb-2,\r\n.py-2 {\r\n    padding-bottom: 0.5rem !important;\r\n}\r\n\r\n.pl-2,\r\n.px-2 {\r\n    padding-left: 0.5rem !important;\r\n}\r\n\r\n.p-3 {\r\n    padding: 1rem !important;\r\n}\r\n\r\n.pt-3,\r\n.py-3 {\r\n    padding-top: 1rem !important;\r\n}\r\n\r\n.pr-3,\r\n.px-3 {\r\n    padding-right: 1rem !important;\r\n}\r\n\r\n.pb-3,\r\n.py-3 {\r\n    padding-bottom: 1rem !important;\r\n}\r\n\r\n.pl-3,\r\n.px-3 {\r\n    padding-left: 1rem !important;\r\n}\r\n\r\n.p-4 {\r\n    padding: 1.5rem !important;\r\n}\r\n\r\n.pt-4,\r\n.py-4 {\r\n    padding-top: 1.5rem !important;\r\n}\r\n\r\n.pr-4,\r\n.px-4 {\r\n    padding-right: 1.5rem !important;\r\n}\r\n\r\n.pb-4,\r\n.py-4 {\r\n    padding-bottom: 1.5rem !important;\r\n}\r\n\r\n.pl-4,\r\n.px-4 {\r\n    padding-left: 1.5rem !important;\r\n}\r\n\r\n.p-5 {\r\n    padding: 3rem !important;\r\n}\r\n\r\n.pt-5,\r\n.py-5 {\r\n    padding-top: 3rem !important;\r\n}\r\n\r\n.pr-5,\r\n.px-5 {\r\n    padding-right: 3rem !important;\r\n}\r\n\r\n.pb-5,\r\n.py-5 {\r\n    padding-bottom: 3rem !important;\r\n}\r\n\r\n.pl-5,\r\n.px-5 {\r\n    padding-left: 3rem !important;\r\n}\r\n\r\n.m-auto {\r\n    margin: auto !important;\r\n}\r\n\r\n.mt-auto,\r\n.my-auto {\r\n    margin-top: auto !important;\r\n}\r\n\r\n.mr-auto,\r\n.mx-auto {\r\n    margin-right: auto !important;\r\n}\r\n\r\n.mb-auto,\r\n.my-auto {\r\n    margin-bottom: auto !important;\r\n}\r\n\r\n.ml-auto,\r\n.mx-auto {\r\n    margin-left: auto !important;\r\n}\r\n\r\n.text-left {\r\n    text-align: left !important;\r\n}\r\n\r\n.text-right {\r\n    text-align: right !important;\r\n}\r\n\r\n.text-center {\r\n    text-align: center !important;\r\n}\r\n\r\n\r\n.text-white {\r\n    color: #fff !important;\r\n}\r\n\r\n.text-primary {\r\n    color: #007bff !important;\r\n}\r\n\r\na.text-primary:hover, a.text-primary:focus {\r\n    color: #0062cc !important;\r\n}\r\n\r\n.text-secondary {\r\n    color: #6c757d !important;\r\n}\r\n\r\na.text-secondary:hover, a.text-secondary:focus {\r\n    color: #545b62 !important;\r\n}\r\n\r\n.text-success {\r\n    color: #28a745 !important;\r\n}\r\n\r\na.text-success:hover, a.text-success:focus {\r\n    color: #1e7e34 !important;\r\n}\r\n\r\n.text-info {\r\n    color: #17a2b8 !important;\r\n}\r\n\r\na.text-info:hover, a.text-info:focus {\r\n    color: #117a8b !important;\r\n}\r\n\r\n.text-warning {\r\n    color: #ffc107 !important;\r\n}\r\n\r\na.text-warning:hover, a.text-warning:focus {\r\n    color: #d39e00 !important;\r\n}\r\n\r\n.text-danger {\r\n    color: #dc3545 !important;\r\n}\r\n\r\na.text-danger:hover, a.text-danger:focus {\r\n    color: #bd2130 !important;\r\n}\r\n\r\n.text-light {\r\n    color: #f8f9fa !important;\r\n}\r\n\r\na.text-light:hover, a.text-light:focus {\r\n    color: #dae0e5 !important;\r\n}\r\n\r\n.text-dark {\r\n    color: #343a40 !important;\r\n}\r\n\r\na.text-dark:hover, a.text-dark:focus {\r\n    color: #1d2124 !important;\r\n}\r\n\r\n.text-muted {\r\n    color: #6c757d !important;\r\n}\r\n\r\n.border-0\r\n{\r\n    border-width: 0px !important;\r\n}\r\n\r\n.overflow-auto\r\n{\r\n    overflow: auto !important;\r\n}\r\n\r\n.flex-fill\r\n{\r\nflex-grow: 1 !important;\r\n}\r\n\r\n@keyframes arrow_down_up {\r\n    0%   { transform: scale(1,1) translateY(0) rotate(45deg);\r\n        -webkit-transform:scale(1,1) translateY(0) rotate(45deg);\r\n    }\r\n    10%  { transform: scale(1.1,.9) translateY(0) rotate(45deg);\r\n        -webkit-transform: scale(1.1,.9) translateY(0) rotate(45deg);\r\n    }\r\n    30%  { transform: scale(.9,1.1)   translateY(-12px) rotate(45deg);\r\n        -webkit-transform: scale(.9,1.1)   translateY(-12px) rotate(45deg);\r\n    }\r\n    50%  { transform: scale(1.05,.95) translateY(0) rotate(45deg);\r\n        -webkit-transform: scale(1.05,.95) translateY(0) rotate(45deg);\r\n    }\r\n    58%  { transform: scale(1,1) translateY(-7px) rotate(45deg);\r\n        -webkit-transform: scale(1,1) translateY(-7px) rotate(45deg);\r\n    }\r\n    65%  { transform: scale(1,1) translateY(0) rotate(45deg);\r\n        -webkit-transform: scale(1,1) translateY(0) rotate(45deg);\r\n    }\r\n    100% { transform: scale(1,1) translateY(0) rotate(45deg);\r\n        -webkit-transform: scale(1,1) translateY(0) rotate(45deg);\r\n    }\r\n}\r\n\r\n.arrow {\r\n    border: solid #474540;\r\n    border-width: 0 4px 4px 0;\r\n    display: inline-block;\r\n    padding: 6px;\r\n    border-radius: 2px;\r\n\r\n}\r\n\r\n\r\n\r\n[expand="true"] > .arrow{\r\n    transform: rotate(-135deg);\r\n    -webkit-transform: rotate(-135deg);\r\n}\r\n\r\n[expand="false"] > .arrow{\r\n    animation: arrow_down_up 1s ease-in;\r\n    animation-fill-mode: forwards;\r\n    animation-iteration-count: infinite;\r\n    -webkit-animation: arrow_down_up 1s ease-in;\r\n    -webkit-animation-fill-mode: forwards;\r\n    -webkit-animation-iteration-count: infinite;\r\n    transform: rotate(45deg);\r\n    -webkit-transform: rotate(45deg);\r\n}\r\n\r\n[expand="false"] ~ .options\r\n{\r\n    height: 0px;\r\n    overflow: hidden;\r\n}\r\n\r\n[expand="true"] ~ .options\r\n{\r\n    height:auto ;\r\n    transition: height 1s;\r\n    overflow: auto;\r\n}\r\n\r\n.options ~ .options\r\n{\r\n    border-top: 1px solid #0ec7be;\r\n}',""]);const s=o},924:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),i=t.n(r),a=t(645),o=t.n(a)()(i());o.push([e.id,"@media screen and (min-aspect-ratio: 13/9) {\n\t.phoenix-help\n\t{\n\t\tmax-width: 50% !important;\n\t}\n\n\n           \nbody {font-size:1.2em !important;}\n\n\n.timer,.point{\n\tfont-size:0.9rem;\n\t }\n\n\n\n\n.ok-btn , .cancel-btn{\n\tfont-size:0.8rem;\n}\n\n\n.cancel-btn\n{\n\tcolor:#000000;\n\tbackground-color:#c6c2b6;\n}\n\n.star-img\n\t{\n\t\twidth:60px !important;\n\t}\n\t\n.money-bag-img\n\t{\n\t\twidth:10% !important;\n\t}\n\t\n\t.money-bag{\n\twidth:10% !important;\n\t      }\n\n.game-header\n{\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n}\n\n\t.next-level-desc\n\t{\n\t\twidth:calc(70% - 130px) !important;\n\t\twidth:-webkit-calc(70% - 130px) !important;\n\t\ttext-align: center !important;\n\t\tfont-size: 1rem !important;\n\t}\n\n\t.phoenix\n\t{\n\t\twidth: 20% !important;\n\t}\n\n\t.moon\n\t{\n\n\t\tmargin: 30px auto 30px 10% !important;\n\t}\n\n\t.level-map\n\t{\n\t\tmax-height: 30vh !important;\n\t\tmargin-top: 10px !important;\n\t}\n\n\t.referal-link{font-size: 1.2em !important;}\n}\n\n\n@media screen and (max-device-width: 1024px) and (orientation: landscape) {\n\n\tbody {font-size:1em !important;}\n\n\t.phoenix-container\n\t{\n\t\tmax-width: 350px !important;\n\t}\n\t.referal-link{font-size: 1em !important;}\n}\n\n\n",""]);const s=o},433:(e,n,t)=>{t.d(n,{Z:()=>s});var r=t(81),i=t.n(r),a=t(645),o=t.n(a)()(i());o.push([e.id,'@font-face {\n  font-family: iransansB;\n  src: url("https://games.baziigram.com/SDK/fonts/IRANSansWebFa_Bold.924be0f.woff2");\n}\n@font-face {\n  font-family: iransansM;\n  src: url("https://games.baziigram.com/SDK/fonts/IRANSansWebFa_Medium.8451859.woff2");\n}\n\n@font-face\n{\n\tfont-family:bKamran;\n\tsrc : url("https://games.baziigram.com/SDK/fonts/ZahraRoosta.ttf")\n}\n\n@font-face\n{\n\tfont-family:merriweather;\n\tsrc : url("https://games.baziigram.com/SDK/fonts/merriweather.light.ttf")\n}\n\n@font-face\n{\n\tfont-family:lalezar;\n\tsrc : url("https://games.baziigram.com/SDK/fonts/ZahraRoosta.ttf")\n}\n\n           \nbody { margin: 0; \n\t  touch-action: pan-x pan-y;\n\t  width:100%;\n\t  height:100%;\n\t  padding:0px;\n\t  position:fixed;\n\t  top:0px;\n\t  left:0px;\n\t  overflow:hidden;\t\t\t\n\t  font-size:1.2em;\n\t\t   }\n\n.play-button , .replay-button{\n    height: 50px;\n    width: 50px;\n\tbackground:url("https://games.baziigram.com/SDK/images/play-btn2.png") no-repeat center center;\n\tdisplay:block;\n\tmargin:auto;\n    background-size: 100% 100%;\n    border-width: 0px;\n    outline: none;\n    transition: all 300ms;\n\tbackground-color:transparent;\n\ttransition: 0.2s all;\n     }\n\n.replay-button\n{\n\tbackground:url("https://games.baziigram.com/SDK/images/playButton2.png") no-repeat center center;\n\t background-size: 100% 100%;\n  }\n\n\n.play-button:active,.play-button:focus{\n     transform: scale(0.98);\n            }\n\n @keyframes press {\n\t0% {\n\t\t transform: scale(1);\n\t}\n\t50% {\n\t\t transform: scale(0.65);\n\t}\n\t100% {\n\t\t transform: scale(1);\n\t}\n}\n\n.start-playing\n    {\n    position: fixed;\n    top: 0px;\n    left:0px;\n    height: 100%;\n    width:100%;\n    background-color:rgba(0, 0, 0, 0.5);\n     z-index: 99999;\n\n    }\n.phoenix-container\n{\n\twidth: 85%;\n\tmax-width: 450px;\n\ttop: -100%;\n\tleft:50%;\n\tposition: absolute;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\ttransform: scale(0,0);\n\tanimation-name: float-dialog ;\n\tanimation-duration: 2s;\n\tanimation-timing-function: linear;\n\tanimation-fill-mode: forwards;\n\tanimation-iteration-count: 1;\n\tmax-height: 100%;\n}\n.help {\n\tmargin: -6% auto 0px auto;\n\twidth:100%;\n\ttext-align: center;\n    color: #212120;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tanimation-name: float ;\n\tanimation-duration: 4s;\n\tanimation-timing-function: linear;\n\tanimation-fill-mode: forwards;\n\tanimation-iteration-count: infinite;\n\t   }\n\n\n\n.timer,.point{\n\t/*background-image: linear-gradient(#fccb7e ,#fbb23f , #f9bb5b , #fccb7e ,  #fff0db ) !important;*/\n\tbackground-color: #fde8c9;\n\tborder-radius: 17px;\n\tcolor: #212120 !important;\n\twidth:150px;\n    height: 40px;\n    color:inherit;\n    padding:5px 5px;\n\ttext-align:center;\n\tz-index:0;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n\t }\n.timer:before,.point:before{\n\tbackground-color: initial !important;\n\tbackground-image: linear-gradient(#fff 0, rgba(255, 255, 255, 0) 100%) !important;\n\tborder-radius: 125px !important;\n\tcontent: "";\n\theight: 50%;\n\tleft: 4%;\n\topacity: .5;\n\tposition: absolute;\n\ttop: 0;\n\ttransition: all .3s;\n\twidth: 92%;\n}\n\n.timer{\n\tposition:absolute;\n\ttop:10px;\n\tleft:10px;\n}\n.point{\n\tposition:absolute;\n\ttop:10px;\n\tright:10px;\n}\n\n\n.gameOver{\n\tposition: fixed;\n    top: 0px;\n    left:0px;\n    height: 100%;\n    width:100%;\n\t background-color:#efeeeb;\n    z-index: 99998;\n\tdisplay:none;\n\toverflow:hidden;\n\tpadding:8px;\n\tcolor:#ffffff;\n\tbackground-image: linear-gradient(#712773 , #2a1b3d);\n\tfont-size:1rem;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n\n\n\n@-webkit-keyframes wiggle\n{\n    0% {-webkit-transform: rotateZ(6deg);}\n    50% {-webkit-transform: rotateZ(-6deg);}\n    100% {-webkit-transform: rotateZ(6deg);}\n}\n\n@keyframes wiggle\n{\n    0% {transform: rotateZ(6deg);}\n    50% {transform: rotateZ(-6deg);}\n    100% {transform: rotateZ(6deg);}\n}\n.wobby{\n\t -webkit-animation: wiggle 0.2s ease infinite;\n    animation: wiggle 0.2s ease infinite;\n}\n\n\n.baziigram-menu-icon\n{\nwidth: 50px;\nheight: 50px;\nposition: absolute;\nbottom: 0px;\nright: 0px;\nz-index: 5 !important;\n}\n\n.show-menu\n{\n\tdisplay: block;\n}\n\n\n#baziigramMenu\n{\n\tposition: fixed;\n\tbottom: 8px;\n\tright:8px;\n\twidth: 50px;\n\theight: 50px;\n}\n\n#leaderboardMenu\n{\n\tbackground: url(\'https://games.baziigram.com/SDK/images/leaderboard-2.png\') no-repeat center center;\n\tbackground-size: 100% 100%;\n\n}\n\n#profileMenu\n{\n\tbackground: url(\'https://games.baziigram.com/SDK/images/empty-2.png\') no-repeat center center;\n\tbackground-size: 100% 100%;\n}\n\n#AwardsMenu\n{\n\tbackground: url(\'https://games.baziigram.com/SDK/images/prize-2.png\') no-repeat center center;\n\tbackground-size: 100% 100%;\n}\n\n#leaderboardMenu , #profileMenu , #leaderboardMenu:focus ,\n#AwardsMenu , #profileMenu:focus , #AwardsMenu:focus , #leaderboardMenu:active , #profileMenu:active ,\n#AwardsMenu:active\n{\n\tposition: absolute;\n\twidth: 50px;\n\theight: 50px;\n\tbottom: 0px;\n\tright: 0px;\n\tborder:none !important;\n\tborder-width:0px !important;\n\toutline:0px !important;\n\toutline:none !important;\n}\n\n.show-menu ~ #profileMenu\n{\n\tbottom: 58px !important;\n\ttransition: all .5s;\n}\n\n.show-menu ~ #leaderboardMenu\n{\n\tbottom: 116px !important;\n\ttransition: all .5s;\n}\n\n.show-menu ~ #AwardsMenu\n{\n\tbottom: 174px !important;\n\ttransition: all .5s;\n}\n\n#dialogContainer{\n\tz-index: 99999;\n\tposition:absolute;\n\twidth:85%;\n\tmax-width:450px;\n    left:50%;\n    top: 50%;\n\tmax-height:85%;\n\toverflow:auto;\n\ttransform:translate(-50%,-50%);\n\ttransform-origin:center;\n\tcolor:inherit;\n\tz-index:99999;\n\ttext-align: center;\n\tcolor: #212120;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n}\n\n[lang=en]{\n\tfont-family:merriweather !important;\n\tletter-spacing: 0.09rem !important;\n\tline-height: 25px !important;\n\t/*font-size: 0.9rem !important;*/\n}\n\n[lang=fa]{\n\tfont-family:bKamran !important;\n\tline-height: 1.6em !important;\n\tletter-spacing: 0 !important;\n}\n\n\n\n.profile-image-options{\n\talign-self: flex-start;\n\tposition: relative;\n    height: auto;\n\twidth:28%;\n\tmargin:8px 2%;\n\tborder-radius:50%;\n}\n\n.plain-dialog{\nbackground-color:rgba(170, 141, 107,0.8) !important;\t\n\tbackground-image:none !important;\n}\n.hide-dialog {\n -webkit-animation: hide-dialog 500ms ease-in-out 1s alternate;\n  -moz-animation: hide-dialog 500ms ease-in-out 1s alternate;\n  animation: hide-dialog 500ms ease-in-out 1s alternate;\n\tanimation-fill-mode:forwards;\n\tdisplay:block !important;\n\n}\n.show-dialog{\n\t-webkit-animation: show-dialog 500ms ease-in-out 1 alternate;\n  -moz-animation: show-dialog 500ms ease-in-out 1 alternate;\n  animation: show-dialog 500ms ease-in-out 1 alternate;\n\tanimation-fill-mode:forwards;\n\tdisplay:block !important;\n}\n\n@-webkit-keyframes hide-dialog {\n  from {\n\t  transform-origin:center;\n\ttransform:translate(-50%,-50%) scale(1) ;\n\t  \n     }\n  to {\n\t  transform-origin:center;\n\t transform:translate(-50%,-50%) scale(0) ;\n\t  \n   }\n}\n\n@-webkit-keyframes show-dialog {\n  from {\n\t  transform-origin:center;\n\ttransform:translate(-50%,-50%) scale(0) ;\n     }\n  to {\n\t  transform-origin:center;\n\t transform:translate(-50%,-50%) scale(1) ;\n   }\n}\n\n@-webkit-keyframes spin\n{\n    0% {-webkit-transform: rotateZ(0deg) scale(0);}\n    25% {-webkit-transform: rotateZ(360deg) scale(0.25);}\n\t50% {-webkit-transform: rotateZ(720deg) scale(0.5);}\n\t75% {-webkit-transform: rotateZ(1080deg) scale(0.75);}\n\t100% {-webkit-transform: rotateZ(1440deg) scale(1);}\n\t\n}\n\n@keyframes spin\n{\n    0% {transform: rotateZ(0deg) scale(0);}\n    25% {transform: rotateZ(360deg) scale(0.25);}\n\t50% {transform: rotateZ(720deg) scale(0.5);}\n\t75% {transform: rotateZ(1080deg) scale(0.75);}\n\t100% {transform: rotateZ(1440deg) scale(1);}\n\t\n}\n\n\n.cheer{\n\tposition:absolute;\n\twidth:30px;\n\ttop:-100%;\n\tz-index:0;\n\t-webkit-animation: cheer 1s ease-in-out 1 alternate;\n  -moz-animation: cheer 1s ease-in-out 1 alternate;\n  animation: cheer 1s ease-in-out 1 alternate;\n\tanimation-fill-mode:forwards;\n\t\n}\n@-webkit-keyframes cheer {\n  0% {\n  \n\t  display:block;\n  }\n \n  \n  100% {\n\t  transform:translateY(200%);\n\t  display:none;\n   \n  }\n\n}\n\n@keyframes cheer {\n  0% {\n  \n\t  display:block;\n  }\n \n  \n  100% {\n\t  top:100%;\n\t  display:none;\n   \n  }\n\n}\n\n\n::placeholder { /* Chrome, Firefox, Opera, Safari 10.1+ */\n  color: #919191;\n  opacity: 0.9; /* Firefox */\n}\n\n\n.leader-board-item{\n\tbackground-color:transparent;\n\tpadding:30px 20px 30px 50px;\n\tfont-size:60px;\n\twidth:700px;\n   border-bottom:solid 4px #8a4a1c;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n\nbutton{\n\ttransition: 0.2s all;\n}\n\nbutton:focus , button:active{\n\tborder:none !important;\n\tborder-width:0px !important;\n\toutline:0px !important;\n\toutline:none !important;\n\ttransform: scale(0.98);\n}\n\n\n.dialog-title{\n    background: url(\'https://games.baziigram.com/SDK/images/play.png\') no-repeat center center;\n\tbackground-size: 100% 100%;\n\tmin-width:100px;\n\theight:240px;\n\tcolor:white;\n\tfont-size:60px;\n\tmargin:auto;\n\ttext-align:center;\n\tmargin-top:-100px;\n    padding-top:60px;\n\tmax-width:580px;\n}\n.ok-btn , .cancel-btn , .secondary-btn , .login-btn{\n\tcontent: "";\n\theight:40px;\n\tborder:none;\n\tmargin:16px auto;\n\tdisplay:block;\n\toutline: none;\n\tcolor: #212120;\n\tbackground-color:#f59536 !important;\n\tborder-radius:8px;\n\tpadding: 5px 8px;\n\tfont-size:0.9rem;\n\tposition: relative;\n\tmin-width: 100px;\n\tfont-family: inherit;\n\n}\n\n.cancel-btn\n{\n\tbackground-color: #a4b3b6 !important;\n\tcolor: #212120 !important;\n}\n\n.ok-btn:before , .cancel-btn:before , .secondary-btn:before , .login-btn:before{\n\tbackground-color: initial;\n\tbackground-image: linear-gradient(#fff 0, rgba(255, 255, 255, 0) 100%);\n   border-radius: 125px !important;\n  content: "";\n  height: 50%;\n  left: 4%;\n  opacity: .5;\n  position: absolute;\n  top: 0;\n  transition: all .3s;\n  width: 92%;\n}\n\n.cancel-btn\n{\n\tbackground-color:#c6c2b6;\n}\n.close-btn\n{\n\tbackground-image: url("https://games.baziigram.com/SDK/images/close-btn2.png");\n\tbackground-size: 100% 100%;\n\twidth:40px;\n\theight:40px;\n\tborder:none;\n\tmargin: 0px auto 0px 5px;\n\tborder-width: 0px;\n    outline: none;\t\n\tbackground-color:transparent;\n}\n\n.loader {\n  border: 6px solid #f3f3f3; \n  border-top: 6px solid #d8c3de;\n  border-radius: 50%;\n  width: 30px;\n  height: 30px;\n  animation: spin 2s linear infinite;\n  margin:8px auto;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n.prize-item\n{\n\tborder-bottom:1px solid #c6c2b6;\n\tpadding:4px;\n\tfont-size:0.9rem;\n\tmargin:8px auto ;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.prize-logo\n{\n\tborder-radius:50%;\n\theight:55px;\n\twidth:55px;\n\tmargin-left:5px;\n\t\n}\n\n.money-bag{\n\twidth:25%;\n\tmargin: 40px auto 16px;\n\tanimation:money-bag 400ms linear;\n\ttransform-origin: bottom;\n}\n@keyframes money-bag\n\t{\n  0%   { transform: scale(1,1);}\n  25%  { transform: scale(1.1,.9);}\n  50%  { transform: scale(.9,1.1);}\n  75%  { transform: scale(1.05,.95); }\n  100%  { transform: scale(1,1); }\n    }\n\n.dropping-coin{\n\twidth:22px;\n\theight:22px;\n\tleft:50%;\n\tposition:absolute;\n\ttop:-50px;\n\tanimation:fall-down 100ms linear;\n\tanimation-fill-mode:forwards;\n}\n\n@keyframes fall-down\n\t{\n  0%   { transform: translate(-50%,0);display:block;visibility:visible;}\n  100%  { transform:  translate(-50%,100px);visibility:hidden; }\n    }\n\n.glow-green{\n\ttext-align:center;\n\tdirection:rtl;\n\tfont-size:40px;\n}\n\n.referal-link{\n\ttext-align:center;\n\tborder-radius:8px;\n\tbackground-color:#e0ded7;\n\twidth: 90%;\n    margin: 0px auto;\n    padding: 8px 16px;\n    -webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.star-img{\n\tmargin:16px auto;\n\twidth:30%;\n}\n\n\n\n.error-txt\n{\n\tcolor:red;\n\tfont-size:0.9rem;\n}\n\n.jungle\n{\n  position: absolute;\n  bottom: 0px;\n  left:0px;\n  width: 100%;\n  z-index: 1;\n}\n\n.moon\n{\n  width: 30%;\n  max-width: 100px;\n  animation: glow-moon 4s linear;\n  animation-fill-mode: forwards;\n  animation-iteration-count: infinite;\n  border-radius: 75px;\n  display: block;\n  margin: 30px auto 30px 30px;\n  position: relative;\n  z-index: 0;\n}\n\n@keyframes glow-moon\n{\n  0%   {\n    box-shadow: 0 0 20px #fff, 0 0 20px #fff, 0 0 20px #deded5, 0 0 20px #deded5, 0 0 20px #deded5, 0 0 20px #deded5, 0 0 20px #deded5;\n  }\n  100% {\n     box-shadow: 0 0 20px #fff, 0 0 30px #deded5, 0 0 40px #deded5, 0 0 50px #deded5, 0 0 60px #deded5, 0 0 70px #deded5, 0 0 80px #deded5;\n\n  }\n}\n\n.phoenix\n{\n  position:absolute;\n  top:40%;\n  right:16px;\n  width: 30%;\n  max-width: 200px;\n  animation-name: float ;\n  animation-duration: 4s;\n  animation-timing-function: linear;\n  animation-fill-mode: forwards;\n  animation-iteration-count: infinite;\n  background-color: transparent;\n  z-index: 2;\n}\n\n.phoenix-help\n{\n\tz-index: 1;\n\tmargin:0px auto;\n\tposition: relative;\n\twidth: 90%;\n\tmax-width: 450px;\n\tbackground-color: transparent;\n\tanimation-name: float ;\n\tanimation-duration: 4s;\n\tanimation-timing-function: linear;\n\tanimation-fill-mode: forwards;\n\tanimation-iteration-count: infinite;\n\n}\n\n@keyframes float {\n  0% {\n     transform: translatey(0px);\n  }\n \n  50% {\n    transform: translatey(-20px);\n  }\n  100% {\n    transform: translatey(0px);\n  }\n}\n\n@keyframes float-dialog {\n\t0% {\n\t\ttop:-100%;\n\t\tleft:50%;\n\t\ttransform: translate(-50% , 100%) scale(0,0);\n\t}\n\n\t50% {\n\t\ttop:-50%;\n\t\tleft:50%;\n\t\ttransform: translate(-50% , 100%) scale(.5,.5);\n\t}\n\t100% {\n\t\ttop:50%;\n\t\tleft:50%;\n\t\ttransform: translate(-50% , -50%) scale(1,1);\n\t}\n}\n\n\n#gameOverContent{\n\tz-index:1;\n\tposition:relative;\n\tdisplay: none;\n\twidth: 100%;\n\theight: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\talign-items: center;\n\toverflow: auto;\n\n}\n\n#yourCoins\n{\n\tfont-size:2rem;\n\tmargin:8px auto;\n}\n\n.baziigram-input {\n\tdirection: rtl;\n\twidth: 96%;\n\tcolor: #212120;\n\tborder: 1px solid #8a8784;\n\theight: 40px;\n\tborder-radius: 5px;\n\tpadding: 0px 2%;\n\tfont-size: 0.9rem;\n\tpadding-top: 10px;\n\tmargin:0px auto;\n\tbackground: transparent;\n\tposition: relative;\n\tz-index: 1;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.input-container {\n\tmax-width: 300px;\n\tmargin: 16px auto;\n\tdisplay: block;\n\tposition: relative;\n\ttop: 0;\n\twidth: 90%;\n\tz-index: 0;\n}\n\n.input-container > label {\n\ttop: 8px;\n\tposition: absolute;\n\tbackground-color: transparent;\n\tpadding: 0px 5px;\n\ttransition: 0.2s;\n\tpointer-events: none;\n\tcolor: #595857;\n\tfont-size: 0.8rem;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.baziigram-input:focus,\n.baziigram-input:active {\n\tcolor: #212120 ;\n\tborder: 1px solid #212120;\n\tbackground:transparent !important;\n\ttransition: all 0.3s ease-in;\n\theight: 40px;\n\tpadding-top: 15px;\n\toutline: 0px !important;\n\toutline: none !important;\n\t-webkit-appearance: none;\n\tbox-shadow: none;\n\t-moz-box-shadow: none;\n\t-webkit-box-shadow: none;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.baziigram-input:focus ~ label,\n.baziigram-input:active ~ label {\n\tposition: absolute;\n\ttop: -12px;\n\tbackground-color: #fccc80;\n\tcolor: #212120;\n\ttransition: all 1s;\n\ttransition: all;\n\ttransition-duration: 300ms;\n\ttransition-delay: 0s;\n\tmargin-bottom: 0px;\n\tz-index: 1;\n}\n\n.baziigram-input:not(:placeholder-shown) ~ label {\n\tposition: absolute;\n\tbackground-color: #fccc80;\n\ttop: -12px;\n\tcolor: #212120;\n\tmargin-bottom: 0px;\n\tfont-size: 0.8rem;\n\tjustify-content: space-between;\n\tz-index: 1;\n}\n\n.baziigram-input:not(:placeholder-shown) {\n\theight: 50px;\n\tpadding-top:8px ;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.baziigram-input:invalid,\n.baziigram-input:focus:invalid {\n\tcolor: #212120;\n\tborder-color: #ff0000;\n}\n\n.input-error-text {\n\tcolor: red;\n\tfont-size: 0.7rem;\n\twidth: 95%;\n\tmargin: 6px auto;\n\tpadding:0px 3px;\n\tdisplay: none;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n\n.right-label\n{\n\tright: 15px;\n}\n\n.left-label\n{\n\tleft: 15px;\n}\n\n.profile-image\n{\n\twidth: 20%;\n\tmargin: 10px auto 10px auto;\n\tdisplay: block;\n\tborder-radius: 50%;\n}\n\n.logo-container\n{\n\theight:60px;\n\twidth:60px;\n}\n.gold\n{\n\tbackground:url("https://games.baziigram.com/SDK/images/gold.png") no-repeat center center;\n\tbackground-size: 100% 100%;\n\tpadding: 17px 14px 11px 14px;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.silver\n{\n\tbackground:url("https://games.baziigram.com/SDK/images/silver.png") no-repeat center center !important;\n\tbackground-size: 100% 100% !important;\n\tpadding: 17px 14px 11px 14px;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.bronze\n{\n\tbackground:url("https://games.baziigram.com/SDK/images/bronze.png") no-repeat center center !important;\n\tbackground-size: 100% 100% !important;\n\tpadding: 17px 14px 11px 14px;\n\t-webkit-box-sizing: border-box;\n\t-moz-box-sizing: border-box;\n\tbox-sizing: border-box;\n}\n\n.leader-board-logo\n{\n\tborder-radius:50%;\n\theight:100%;\n\twidth:100%;\n\tdisplay: block;\n\tmargin: auto;\n\n}\n\n.small-logo\n{\n\theight: 50px;\n\twidth: 50px;\n}\n\n\n.next-level-desc\n{\n\twidth:95%;\n\tword-wrap:break-word;\n\tmargin:8px auto;\n\ttext-align: right;\n\tdirection: rtl;\n\tfont-size: 2vh;\n}\n\n.replay-button\n{\n\tmargin-right: 10% !important;\n\twidth: 15vw !important;\n\theight: 15vw !important;\n\tmax-height: 50px !important;\n\tmax-width: 50px !important;\n}\n\n.level-map\n{\n\tmax-height: calc((100vh - 30vw)/3);\n}\n\n.video\n{\n\tdisplay: block;\n\tmargin: 0px auto;\n\twidth:100%;\n\theight:100%;\n\tmax-width: 400px;\n}\n\n.papiroos-top , .papiroos-bottom\n{\n\twidth: 100%;\n\tmax-height: 35px;\n}\n\n\n.papiroos-middle , .hide-dialog>papiroos-middle\n{\n\tbackground-image: url("https://games.baziigram.com/SDK/images/papiroos-middle.png");\n\tbackground-repeat: no-repeat;\n\tbackground-position: center center;\n\tbackground-size: 100% 100%;\n\toverflow: auto;\n\tpadding:0px 10% ;\n    max-height: 0px;\n\ttransition: all 1s;\n\toverflow: auto;\n}\n\n\n.open-papiroos ~ .papiroos-bottom , .show-dialog > .papiroos-bottom\n{\n\tdisplay: block;\n}\n.open-papiroos.papiroos-middle , .show-dialog > .papiroos-middle{\n\tmax-height: 60vh;\n}\n\n#help-papiroos-middle\n{\n\tpadding: 0px 13%;\n}\n\n#help-papiroos-middle.open-papiroos\n{\n\tpadding: 8px 13%;\n}\n\n.login-btn\n{\n\tbackground-color: #fa00bb !important;\n\tcolor: #ffffff !important;\n\tmargin: 0px auto !important;\n}\n\n.secondary-btn\n{\n\tbackground-color: #a4b3b6 !important;\n\tcolor: #fa00bb !important;\n\tmargin: 0px auto !important;\n}',""]);const s=o},645:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,r,i,a){"string"==typeof e&&(e=[[null,e,void 0]]);var o={};if(r)for(var s=0;s<this.length;s++){var d=this[s][0];null!=d&&(o[d]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&o[c[0]]||(void 0!==a&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=a),t&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=t):c[2]=t),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),n.push(c))}},n}},81:e=>{e.exports=function(e){return e[1]}},806:(e,n,t)=>{var r,i,a,o,s=s||function(e,n){var t={},r=t.lib={},i=function(){},a=r.Base={extend:function(e){i.prototype=this;var n=new i;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=r.WordArray=a.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=null!=n?n:4*e.length},toString:function(e){return(e||d).stringify(this)},concat:function(e){var n=this.words,t=e.words,r=this.sigBytes;if(e=e.sigBytes,this.clamp(),r%4)for(var i=0;i<e;i++)n[r+i>>>2]|=(t[i>>>2]>>>24-i%4*8&255)<<24-(r+i)%4*8;else if(65535<t.length)for(i=0;i<e;i+=4)n[r+i>>>2]=t[i>>>2];else n.push.apply(n,t);return this.sigBytes+=e,this},clamp:function(){var n=this.words,t=this.sigBytes;n[t>>>2]&=4294967295<<32-t%4*8,n.length=e.ceil(t/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(n){for(var t=[],r=0;r<n;r+=4)t.push(4294967296*e.random()|0);return new o.init(t,n)}}),s=t.enc={},d=s.Hex={stringify:function(e){var n=e.words;e=e.sigBytes;for(var t=[],r=0;r<e;r++){var i=n[r>>>2]>>>24-r%4*8&255;t.push((i>>>4).toString(16)),t.push((15&i).toString(16))}return t.join("")},parse:function(e){for(var n=e.length,t=[],r=0;r<n;r+=2)t[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new o.init(t,n/2)}},l=s.Latin1={stringify:function(e){var n=e.words;e=e.sigBytes;for(var t=[],r=0;r<e;r++)t.push(String.fromCharCode(n[r>>>2]>>>24-r%4*8&255));return t.join("")},parse:function(e){for(var n=e.length,t=[],r=0;r<n;r++)t[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new o.init(t,n)}},c=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},u=r.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=c.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(n){var t=this._data,r=t.words,i=t.sigBytes,a=this.blockSize,s=i/(4*a);if(n=(s=n?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,i=e.min(4*n,i),n){for(var d=0;d<n;d+=a)this._doProcessBlock(r,d);d=r.splice(0,n),t.sigBytes-=i}return new o.init(d,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});r.Hasher=u.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(n,t){return new e.init(t).finalize(n)}},_createHmacHelper:function(e){return function(n,t){return new m.HMAC.init(e,t).finalize(n)}}});var m=t.algo={};return t}(Math);!function(e){for(var n=s,t=(i=n.lib).WordArray,r=i.Hasher,i=n.algo,a=[],o=[],d=function(e){return 4294967296*(e-(0|e))|0},l=2,c=0;64>c;){var u;e:{u=l;for(var m=e.sqrt(u),g=2;g<=m;g++)if(!(u%g)){u=!1;break e}u=!0}u&&(8>c&&(a[c]=d(e.pow(l,.5))),o[c]=d(e.pow(l,1/3)),c++),l++}var f=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new t.init(a.slice(0))},_doProcessBlock:function(e,n){for(var t=this._hash.words,r=t[0],i=t[1],a=t[2],s=t[3],d=t[4],l=t[5],c=t[6],u=t[7],m=0;64>m;m++){if(16>m)f[m]=0|e[n+m];else{var g=f[m-15],p=f[m-2];f[m]=((g<<25|g>>>7)^(g<<14|g>>>18)^g>>>3)+f[m-7]+((p<<15|p>>>17)^(p<<13|p>>>19)^p>>>10)+f[m-16]}g=u+((d<<26|d>>>6)^(d<<21|d>>>11)^(d<<7|d>>>25))+(d&l^~d&c)+o[m]+f[m],p=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&a^i&a),u=c,c=l,l=d,d=s+g|0,s=a,a=i,i=r,r=g+p|0}t[0]=t[0]+r|0,t[1]=t[1]+i|0,t[2]=t[2]+a|0,t[3]=t[3]+s|0,t[4]=t[4]+d|0,t[5]=t[5]+l|0,t[6]=t[6]+c|0,t[7]=t[7]+u|0},_doFinalize:function(){var n=this._data,t=n.words,r=8*this._nDataBytes,i=8*n.sigBytes;return t[i>>>5]|=128<<24-i%32,t[14+(i+64>>>9<<4)]=e.floor(r/4294967296),t[15+(i+64>>>9<<4)]=r,n.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA256=r._createHelper(i),n.HmacSHA256=r._createHmacHelper(i)}(Math),i=(r=s).enc.Utf8,r.algo.HMAC=r.lib.Base.extend({init:function(e,n){e=this._hasher=new e.init,"string"==typeof n&&(n=i.parse(n));var t=e.blockSize,r=4*t;n.sigBytes>r&&(n=e.finalize(n)),n.clamp();for(var a=this._oKey=n.clone(),o=this._iKey=n.clone(),s=a.words,d=o.words,l=0;l<t;l++)s[l]^=1549556828,d[l]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var n=this._hasher;return e=n.finalize(e),n.reset(),n.finalize(this._oKey.clone().concat(e))}}),function(){var e=s,n=e.lib.WordArray;e.enc.Base64={stringify:function(e){var n=e.words,t=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<t;i+=3)for(var a=(n[i>>>2]>>>24-i%4*8&255)<<16|(n[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|n[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<t;o++)e.push(r.charAt(a>>>6*(3-o)&63));if(n=r.charAt(64))for(;e.length%4;)e.push(n);return e.join("")},parse:function(e){var t=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(t=i);for(var i=[],a=0,o=0;o<t;o++)if(o%4){var s=r.indexOf(e.charAt(o-1))<<o%4*2,d=r.indexOf(e.charAt(o))>>>6-o%4*2;i[a>>>2]|=(s|d)<<24-a%4*8,a++}return n.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){var n,t,r,i,a,o,s,d,l,c,u,m,g;(g=e.EGAErrorSeverity||(e.EGAErrorSeverity={}))[g.Undefined=0]="Undefined",g[g.Debug=1]="Debug",g[g.Info=2]="Info",g[g.Warning=3]="Warning",g[g.Error=4]="Error",g[g.Critical=5]="Critical",(m=e.EGAProgressionStatus||(e.EGAProgressionStatus={}))[m.Undefined=0]="Undefined",m[m.Start=1]="Start",m[m.Complete=2]="Complete",m[m.Fail=3]="Fail",(u=e.EGAResourceFlowType||(e.EGAResourceFlowType={}))[u.Undefined=0]="Undefined",u[u.Source=1]="Source",u[u.Sink=2]="Sink",(c=e.EGAAdAction||(e.EGAAdAction={}))[c.Undefined=0]="Undefined",c[c.Clicked=1]="Clicked",c[c.Show=2]="Show",c[c.FailedShow=3]="FailedShow",c[c.RewardReceived=4]="RewardReceived",(l=e.EGAAdError||(e.EGAAdError={}))[l.Undefined=0]="Undefined",l[l.Unknown=1]="Unknown",l[l.Offline=2]="Offline",l[l.NoFill=3]="NoFill",l[l.InternalError=4]="InternalError",l[l.InvalidRequest=5]="InvalidRequest",l[l.UnableToPrecache=6]="UnableToPrecache",(d=e.EGAAdType||(e.EGAAdType={}))[d.Undefined=0]="Undefined",d[d.Video=1]="Video",d[d.RewardedVideo=2]="RewardedVideo",d[d.Playable=3]="Playable",d[d.Interstitial=4]="Interstitial",d[d.OfferWall=5]="OfferWall",d[d.Banner=6]="Banner",o=e.http||(e.http={}),(s=o.EGAHTTPApiResponse||(o.EGAHTTPApiResponse={}))[s.NoResponse=0]="NoResponse",s[s.BadResponse=1]="BadResponse",s[s.RequestTimeout=2]="RequestTimeout",s[s.JsonEncodeFailed=3]="JsonEncodeFailed",s[s.JsonDecodeFailed=4]="JsonDecodeFailed",s[s.InternalServerError=5]="InternalServerError",s[s.BadRequest=6]="BadRequest",s[s.Unauthorized=7]="Unauthorized",s[s.UnknownResponseCode=8]="UnknownResponseCode",s[s.Ok=9]="Ok",s[s.Created=10]="Created",n=e.events||(e.events={}),(a=n.EGASdkErrorCategory||(n.EGASdkErrorCategory={}))[a.Undefined=0]="Undefined",a[a.EventValidation=1]="EventValidation",a[a.Database=2]="Database",a[a.Init=3]="Init",a[a.Http=4]="Http",a[a.Json=5]="Json",(i=n.EGASdkErrorArea||(n.EGASdkErrorArea={}))[i.Undefined=0]="Undefined",i[i.BusinessEvent=1]="BusinessEvent",i[i.ResourceEvent=2]="ResourceEvent",i[i.ProgressionEvent=3]="ProgressionEvent",i[i.DesignEvent=4]="DesignEvent",i[i.ErrorEvent=5]="ErrorEvent",i[i.InitHttp=9]="InitHttp",i[i.EventsHttp=10]="EventsHttp",i[i.ProcessEvents=11]="ProcessEvents",i[i.AddEventsToStore=12]="AddEventsToStore",i[i.AdEvent=20]="AdEvent",(r=n.EGASdkErrorAction||(n.EGASdkErrorAction={}))[r.Undefined=0]="Undefined",r[r.InvalidCurrency=1]="InvalidCurrency",r[r.InvalidShortString=2]="InvalidShortString",r[r.InvalidEventPartLength=3]="InvalidEventPartLength",r[r.InvalidEventPartCharacters=4]="InvalidEventPartCharacters",r[r.InvalidStore=5]="InvalidStore",r[r.InvalidFlowType=6]="InvalidFlowType",r[r.StringEmptyOrNull=7]="StringEmptyOrNull",r[r.NotFoundInAvailableCurrencies=8]="NotFoundInAvailableCurrencies",r[r.InvalidAmount=9]="InvalidAmount",r[r.NotFoundInAvailableItemTypes=10]="NotFoundInAvailableItemTypes",r[r.WrongProgressionOrder=11]="WrongProgressionOrder",r[r.InvalidEventIdLength=12]="InvalidEventIdLength",r[r.InvalidEventIdCharacters=13]="InvalidEventIdCharacters",r[r.InvalidProgressionStatus=15]="InvalidProgressionStatus",r[r.InvalidSeverity=16]="InvalidSeverity",r[r.InvalidLongString=17]="InvalidLongString",r[r.DatabaseTooLarge=18]="DatabaseTooLarge",r[r.DatabaseOpenOrCreate=19]="DatabaseOpenOrCreate",r[r.JsonError=25]="JsonError",r[r.FailHttpJsonDecode=29]="FailHttpJsonDecode",r[r.FailHttpJsonEncode=30]="FailHttpJsonEncode",r[r.InvalidAdAction=31]="InvalidAdAction",r[r.InvalidAdType=32]="InvalidAdType",r[r.InvalidString=33]="InvalidString",(t=n.EGASdkErrorParameter||(n.EGASdkErrorParameter={}))[t.Undefined=0]="Undefined",t[t.Currency=1]="Currency",t[t.CartType=2]="CartType",t[t.ItemType=3]="ItemType",t[t.ItemId=4]="ItemId",t[t.Store=5]="Store",t[t.FlowType=6]="FlowType",t[t.Amount=7]="Amount",t[t.Progression01=8]="Progression01",t[t.Progression02=9]="Progression02",t[t.Progression03=10]="Progression03",t[t.EventId=11]="EventId",t[t.ProgressionStatus=12]="ProgressionStatus",t[t.Severity=13]="Severity",t[t.Message=14]="Message",t[t.AdAction=15]="AdAction",t[t.AdType=16]="AdType",t[t.AdSdkName=17]="AdSdkName",t[t.AdPlacement=18]="AdPlacement"}(o||(o={})),function(e){var n,t,r,i,a,o;(o=e.EGAErrorSeverity||(e.EGAErrorSeverity={}))[o.Undefined=0]="Undefined",o[o.Debug=1]="Debug",o[o.Info=2]="Info",o[o.Warning=3]="Warning",o[o.Error=4]="Error",o[o.Critical=5]="Critical",(a=e.EGAProgressionStatus||(e.EGAProgressionStatus={}))[a.Undefined=0]="Undefined",a[a.Start=1]="Start",a[a.Complete=2]="Complete",a[a.Fail=3]="Fail",(i=e.EGAResourceFlowType||(e.EGAResourceFlowType={}))[i.Undefined=0]="Undefined",i[i.Source=1]="Source",i[i.Sink=2]="Sink",(r=e.EGAAdAction||(e.EGAAdAction={}))[r.Undefined=0]="Undefined",r[r.Clicked=1]="Clicked",r[r.Show=2]="Show",r[r.FailedShow=3]="FailedShow",r[r.RewardReceived=4]="RewardReceived",(t=e.EGAAdError||(e.EGAAdError={}))[t.Undefined=0]="Undefined",t[t.Unknown=1]="Unknown",t[t.Offline=2]="Offline",t[t.NoFill=3]="NoFill",t[t.InternalError=4]="InternalError",t[t.InvalidRequest=5]="InvalidRequest",t[t.UnableToPrecache=6]="UnableToPrecache",(n=e.EGAAdType||(e.EGAAdType={}))[n.Undefined=0]="Undefined",n[n.Video=1]="Video",n[n.RewardedVideo=2]="RewardedVideo",n[n.Playable=3]="Playable",n[n.Interstitial=4]="Interstitial",n[n.OfferWall=5]="OfferWall",n[n.Banner=6]="Banner"}(a||(a={})),function(e){!function(e){var n;!function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Info=2]="Info",e[e.Debug=3]="Debug"}(n||(n={}));var t=function(){function e(){e.debugEnabled=!1}return e.setInfoLog=function(n){e.instance.infoLogEnabled=n},e.setVerboseLog=function(n){e.instance.infoLogVerboseEnabled=n},e.i=function(t){if(e.instance.infoLogEnabled){var r="Info/"+e.Tag+": "+t;e.instance.sendNotificationMessage(r,n.Info)}},e.w=function(t){var r="Warning/"+e.Tag+": "+t;e.instance.sendNotificationMessage(r,n.Warning)},e.e=function(t){var r="Error/"+e.Tag+": "+t;e.instance.sendNotificationMessage(r,n.Error)},e.ii=function(t){if(e.instance.infoLogVerboseEnabled){var r="Verbose/"+e.Tag+": "+t;e.instance.sendNotificationMessage(r,n.Info)}},e.d=function(t){if(e.debugEnabled){var r="Debug/"+e.Tag+": "+t;e.instance.sendNotificationMessage(r,n.Debug)}},e.prototype.sendNotificationMessage=function(e,t){switch(t){case n.Error:console.error(e);break;case n.Warning:console.warn(e);break;case n.Debug:"function"==typeof console.debug?console.debug(e):console.log(e);break;case n.Info:console.log(e)}},e.instance=new e,e.Tag="GameAnalytics",e}();e.GALogger=t}(e.logging||(e.logging={}))}(o||(o={})),function(e){var n,t,r;n=e.utilities||(e.utilities={}),t=e.logging.GALogger,r=function(){function e(){}return e.getHmac=function(e,n){var t=s.HmacSHA256(n,e);return s.enc.Base64.stringify(t)},e.stringMatch=function(e,n){return!(!e||!n)&&n.test(e)},e.joinStringArray=function(e,n){for(var t="",r=0,i=e.length;r<i;r++)r>0&&(t+=n),t+=e[r];return t},e.stringArrayContainsString=function(e,n){if(0===e.length)return!1;for(var t in e)if(e[t]===n)return!0;return!1},e.encode64=function(n){n=encodeURI(n);var t,r,i,a,o,s="",d=0,l=0,c=0;do{i=(t=n.charCodeAt(c++))>>2,a=(3&t)<<4|(r=n.charCodeAt(c++))>>4,o=(15&r)<<2|(d=n.charCodeAt(c++))>>6,l=63&d,isNaN(r)?o=l=64:isNaN(d)&&(l=64),s=s+e.keyStr.charAt(i)+e.keyStr.charAt(a)+e.keyStr.charAt(o)+e.keyStr.charAt(l),t=r=d=0,i=a=o=l=0}while(c<n.length);return s},e.decode64=function(n){var r,i,a,o,s="",d=0,l=0,c=0;/[^A-Za-z0-9\+\/\=]/g.exec(n)&&t.w("There were invalid base64 characters in the input text. Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='. Expect errors in decoding."),n=n.replace(/[^A-Za-z0-9\+\/\=]/g,"");do{r=e.keyStr.indexOf(n.charAt(c++))<<2|(a=e.keyStr.indexOf(n.charAt(c++)))>>4,i=(15&a)<<4|(o=e.keyStr.indexOf(n.charAt(c++)))>>2,d=(3&o)<<6|(l=e.keyStr.indexOf(n.charAt(c++))),s+=String.fromCharCode(r),64!=o&&(s+=String.fromCharCode(i)),64!=l&&(s+=String.fromCharCode(d)),r=i=d=0,a=o=l=0}while(c<n.length);return decodeURI(s)},e.timeIntervalSince1970=function(){var e=new Date;return Math.round(e.getTime()/1e3)},e.createGuid=function(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(function(e){return(+e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>+e/4).toString(16)}))},e.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",e}(),n.GAUtilities=r}(o||(o={})),function(e){!function(n){var t=e.logging.GALogger,r=e.utilities.GAUtilities,i=e.events.EGASdkErrorCategory,a=e.events.EGASdkErrorArea,o=e.events.EGASdkErrorAction,s=e.events.EGASdkErrorParameter,d=function(e,n,t,r,i){this.category=e,this.area=n,this.action=t,this.parameter=r,this.reason=i};n.ValidationResult=d;var l=function(){function n(){}return n.validateBusinessEvent=function(e,r,l,c,u){return n.validateCurrency(e)?r<0?(t.w("Validation fail - business event - amount. Cannot be less than 0. Failed amount: "+r),new d(i.EventValidation,a.BusinessEvent,o.InvalidAmount,s.Amount,r+"")):n.validateShortString(l,!0)?n.validateEventPartLength(c,!1)?n.validateEventPartCharacters(c)?n.validateEventPartLength(u,!1)?n.validateEventPartCharacters(u)?null:(t.w("Validation fail - business event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+u),new d(i.EventValidation,a.BusinessEvent,o.InvalidEventPartCharacters,s.ItemId,u)):(t.w("Validation fail - business event - itemId. Cannot be (null), empty or above 64 characters. String: "+u),new d(i.EventValidation,a.BusinessEvent,o.InvalidEventPartLength,s.ItemId,u)):(t.w("Validation fail - business event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+c),new d(i.EventValidation,a.BusinessEvent,o.InvalidEventPartCharacters,s.ItemType,c)):(t.w("Validation fail - business event - itemType: Cannot be (null), empty or above 64 characters. String: "+c),new d(i.EventValidation,a.BusinessEvent,o.InvalidEventPartLength,s.ItemType,c)):(t.w("Validation fail - business event - cartType. Cannot be above 32 length. String: "+l),new d(i.EventValidation,a.BusinessEvent,o.InvalidShortString,s.CartType,l)):(t.w("Validation fail - business event - currency: Cannot be (null) and need to be A-Z, 3 characters and in the standard at openexchangerates.org. Failed currency: "+e),new d(i.EventValidation,a.BusinessEvent,o.InvalidCurrency,s.Currency,e))},n.validateResourceEvent=function(l,c,u,m,g,f,p){return l==e.EGAResourceFlowType.Undefined?(t.w("Validation fail - resource event - flowType: Invalid flow type."),new d(i.EventValidation,a.ResourceEvent,o.InvalidFlowType,s.FlowType,"")):c?r.stringArrayContainsString(f,c)?u>0?m?n.validateEventPartLength(m,!1)?n.validateEventPartCharacters(m)?r.stringArrayContainsString(p,m)?n.validateEventPartLength(g,!1)?n.validateEventPartCharacters(g)?null:(t.w("Validation fail - resource event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+g),new d(i.EventValidation,a.ResourceEvent,o.InvalidEventPartCharacters,s.ItemId,g)):(t.w("Validation fail - resource event - itemId: Cannot be (null), empty or above 64 characters. String: "+g),new d(i.EventValidation,a.ResourceEvent,o.InvalidEventPartLength,s.ItemId,g)):(t.w("Validation fail - resource event - itemType: Not found in list of pre-defined available resource itemTypes. String: "+m),new d(i.EventValidation,a.ResourceEvent,o.NotFoundInAvailableItemTypes,s.ItemType,m)):(t.w("Validation fail - resource event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+m),new d(i.EventValidation,a.ResourceEvent,o.InvalidEventPartCharacters,s.ItemType,m)):(t.w("Validation fail - resource event - itemType: Cannot be (null), empty or above 64 characters. String: "+m),new d(i.EventValidation,a.ResourceEvent,o.InvalidEventPartLength,s.ItemType,m)):(t.w("Validation fail - resource event - itemType: Cannot be (null)"),new d(i.EventValidation,a.ResourceEvent,o.StringEmptyOrNull,s.ItemType,"")):(t.w("Validation fail - resource event - amount: Float amount cannot be 0 or negative. Value: "+u),new d(i.EventValidation,a.ResourceEvent,o.InvalidAmount,s.Amount,u+"")):(t.w("Validation fail - resource event - currency: Not found in list of pre-defined available resource currencies. String: "+c),new d(i.EventValidation,a.ResourceEvent,o.NotFoundInAvailableCurrencies,s.Currency,c)):(t.w("Validation fail - resource event - currency: Cannot be (null)"),new d(i.EventValidation,a.ResourceEvent,o.StringEmptyOrNull,s.Currency,""))},n.validateProgressionEvent=function(r,l,c,u){if(r==e.EGAProgressionStatus.Undefined)return t.w("Validation fail - progression event: Invalid progression status."),new d(i.EventValidation,a.ProgressionEvent,o.InvalidProgressionStatus,s.ProgressionStatus,"");if(u&&!c&&l)return t.w("Validation fail - progression event: 03 found but 01+02 are invalid. Progression must be set as either 01, 01+02 or 01+02+03."),new d(i.EventValidation,a.ProgressionEvent,o.WrongProgressionOrder,s.Undefined,l+":"+c+":"+u);if(c&&!l)return t.w("Validation fail - progression event: 02 found but not 01. Progression must be set as either 01, 01+02 or 01+02+03"),new d(i.EventValidation,a.ProgressionEvent,o.WrongProgressionOrder,s.Undefined,l+":"+c+":"+u);if(!l)return t.w("Validation fail - progression event: progression01 not valid. Progressions must be set as either 01, 01+02 or 01+02+03"),new d(i.EventValidation,a.ProgressionEvent,o.WrongProgressionOrder,s.Undefined,(l||"")+":"+(c||"")+":"+(u||""));if(!n.validateEventPartLength(l,!1))return t.w("Validation fail - progression event - progression01: Cannot be (null), empty or above 64 characters. String: "+l),new d(i.EventValidation,a.ProgressionEvent,o.InvalidEventPartLength,s.Progression01,l);if(!n.validateEventPartCharacters(l))return t.w("Validation fail - progression event - progression01: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+l),new d(i.EventValidation,a.ProgressionEvent,o.InvalidEventPartCharacters,s.Progression01,l);if(c){if(!n.validateEventPartLength(c,!0))return t.w("Validation fail - progression event - progression02: Cannot be empty or above 64 characters. String: "+c),new d(i.EventValidation,a.ProgressionEvent,o.InvalidEventPartLength,s.Progression02,c);if(!n.validateEventPartCharacters(c))return t.w("Validation fail - progression event - progression02: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+c),new d(i.EventValidation,a.ProgressionEvent,o.InvalidEventPartCharacters,s.Progression02,c)}if(u){if(!n.validateEventPartLength(u,!0))return t.w("Validation fail - progression event - progression03: Cannot be empty or above 64 characters. String: "+u),new d(i.EventValidation,a.ProgressionEvent,o.InvalidEventPartLength,s.Progression03,u);if(!n.validateEventPartCharacters(u))return t.w("Validation fail - progression event - progression03: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+u),new d(i.EventValidation,a.ProgressionEvent,o.InvalidEventPartCharacters,s.Progression03,u)}return null},n.validateDesignEvent=function(e){return n.validateEventIdLength(e)?n.validateEventIdCharacters(e)?null:(t.w("Validation fail - design event - eventId: Non valid characters. Only allowed A-z, 0-9, -_., ()!?. String: "+e),new d(i.EventValidation,a.DesignEvent,o.InvalidEventIdCharacters,s.EventId,e)):(t.w("Validation fail - design event - eventId: Cannot be (null) or empty. Only 5 event parts allowed seperated by :. Each part need to be 64 characters or less. String: "+e),new d(i.EventValidation,a.DesignEvent,o.InvalidEventIdLength,s.EventId,e))},n.validateErrorEvent=function(r,l){return r==e.EGAErrorSeverity.Undefined?(t.w("Validation fail - error event - severity: Severity was unsupported value."),new d(i.EventValidation,a.ErrorEvent,o.InvalidSeverity,s.Severity,"")):n.validateLongString(l,!0)?null:(t.w("Validation fail - error event - message: Message cannot be above 8192 characters."),new d(i.EventValidation,a.ErrorEvent,o.InvalidLongString,s.Message,l))},n.validateAdEvent=function(r,l,c,u){return r==e.EGAAdAction.Undefined?(t.w("Validation fail - error event - severity: Severity was unsupported value."),new d(i.EventValidation,a.AdEvent,o.InvalidAdAction,s.AdAction,"")):l==e.EGAAdType.Undefined?(t.w("Validation fail - ad event - adType: Ad type was unsupported value."),new d(i.EventValidation,a.AdEvent,o.InvalidAdType,s.AdType,"")):n.validateShortString(c,!1)?n.validateString(u,!1)?null:(t.w("Validation fail - ad event - message: Ad placement cannot be above 64 characters."),new d(i.EventValidation,a.AdEvent,o.InvalidString,s.AdPlacement,u)):(t.w("Validation fail - ad event - message: Ad SDK name cannot be above 32 characters."),new d(i.EventValidation,a.AdEvent,o.InvalidShortString,s.AdSdkName,c))},n.validateSdkErrorEvent=function(e,r,s,d,l){return!(!n.validateKeys(e,r)||(s===i.Undefined?(t.w("Validation fail - sdk error event - type: Category was unsupported value."),1):d===a.Undefined?(t.w("Validation fail - sdk error event - type: Area was unsupported value."),1):l===o.Undefined&&(t.w("Validation fail - sdk error event - type: Action was unsupported value."),1)))},n.validateKeys=function(e,n){return!(!r.stringMatch(e,/^[A-z0-9]{32}$/)||!r.stringMatch(n,/^[A-z0-9]{40}$/))},n.validateCurrency=function(e){return!!e&&!!r.stringMatch(e,/^[A-Z]{3}$/)},n.validateEventPartLength=function(e,n){return!(!n||e)||!!e&&!(e.length>64)},n.validateEventPartCharacters=function(e){return!!r.stringMatch(e,/^[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}$/)},n.validateEventIdLength=function(e){return!!e&&!!r.stringMatch(e,/^[^:]{1,64}(?::[^:]{1,64}){0,4}$/)},n.validateEventIdCharacters=function(e){return!!e&&!!r.stringMatch(e,/^[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}(:[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}){0,4}$/)},n.validateAndCleanInitRequestResponse=function(e,n){if(null==e)return t.w("validateInitRequestResponse failed - no response dictionary."),null;var r={};try{var i=e.server_ts;if(!(i>0))return t.w("validateInitRequestResponse failed - invalid value in 'server_ts' field."),null;r.server_ts=i}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'server_ts' field. type="+typeof e.server_ts+", value="+e.server_ts+", "+n),null}if(n){try{var a=e.configs;r.configs=a}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'configs' field. type="+typeof e.configs+", value="+e.configs+", "+n),null}try{var o=e.configs_hash;r.configs_hash=o}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'configs_hash' field. type="+typeof e.configs_hash+", value="+e.configs_hash+", "+n),null}try{var s=e.ab_id;r.ab_id=s}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'ab_id' field. type="+typeof e.ab_id+", value="+e.ab_id+", "+n),null}try{var d=e.ab_variant_id;r.ab_variant_id=d}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'ab_variant_id' field. type="+typeof e.ab_variant_id+", value="+e.ab_variant_id+", "+n),null}}return r},n.validateBuild=function(e){return!!n.validateShortString(e,!1)},n.validateSdkWrapperVersion=function(e){return!!r.stringMatch(e,/^(unity|unreal|gamemaker|cocos2d|construct|defold|godot|flutter) [0-9]{0,5}(\.[0-9]{0,5}){0,2}$/)},n.validateEngineVersion=function(e){return!(!e||!r.stringMatch(e,/^(unity|unreal|gamemaker|cocos2d|construct|defold|godot) [0-9]{0,5}(\.[0-9]{0,5}){0,2}$/))},n.validateUserId=function(e){return!!n.validateString(e,!1)||(t.w("Validation fail - user id: id cannot be (null), empty or above 64 characters."),!1)},n.validateShortString=function(e,n){return!(!n||e)||!(!e||e.length>32)},n.validateString=function(e,n){return!(!n||e)||!(!e||e.length>64)},n.validateLongString=function(e,n){return!(!n||e)||!(!e||e.length>8192)},n.validateConnectionType=function(e){return r.stringMatch(e,/^(wwan|wifi|lan|offline)$/)},n.validateCustomDimensions=function(e){return n.validateArrayOfStrings(20,32,!1,"custom dimensions",e)},n.validateResourceCurrencies=function(e){if(!n.validateArrayOfStrings(20,64,!1,"resource currencies",e))return!1;for(var i=0;i<e.length;++i)if(!r.stringMatch(e[i],/^[A-Za-z]+$/))return t.w("resource currencies validation failed: a resource currency can only be A-Z, a-z. String was: "+e[i]),!1;return!0},n.validateResourceItemTypes=function(e){if(!n.validateArrayOfStrings(20,32,!1,"resource item types",e))return!1;for(var r=0;r<e.length;++r)if(!n.validateEventPartCharacters(e[r]))return t.w("resource item types validation failed: a resource item type cannot contain other characters than A-z, 0-9, -_., ()!?. String was: "+e[r]),!1;return!0},n.validateDimension01=function(e,n){return!e||!!r.stringArrayContainsString(n,e)},n.validateDimension02=function(e,n){return!e||!!r.stringArrayContainsString(n,e)},n.validateDimension03=function(e,n){return!e||!!r.stringArrayContainsString(n,e)},n.validateArrayOfStrings=function(e,n,r,i,a){var o=i;if(o||(o="Array"),!a)return t.w(o+" validation failed: array cannot be null. "),!1;if(0==r&&0==a.length)return t.w(o+" validation failed: array cannot be empty. "),!1;if(e>0&&a.length>e)return t.w(o+" validation failed: array cannot exceed "+e+" values. It has "+a.length+" values."),!1;for(var s=0;s<a.length;++s){var d=a[s]?a[s].length:0;if(0===d)return t.w(o+" validation failed: contained an empty string. Array="+JSON.stringify(a)),!1;if(n>0&&d>n)return t.w(o+" validation failed: a string exceeded max allowed length (which is: "+n+"). String was: "+a[s]),!1}return!0},n.validateClientTs=function(e){return!(e<0||e>99999999999)},n}();n.GAValidator=l}(e.validators||(e.validators={}))}(o||(o={})),function(e){!function(e){var n=function(e,n,t){this.name=e,this.value=n,this.version=t};e.NameValueVersion=n;var t=function(e,n){this.name=e,this.version=n};e.NameVersion=t;var r=function(){function e(){}return e.touch=function(){},e.getRelevantSdkVersion=function(){return e.sdkGameEngineVersion?e.sdkGameEngineVersion:e.sdkWrapperVersion},e.getConnectionType=function(){return e.connectionType},e.updateConnectionType=function(){navigator.onLine?"ios"===e.buildPlatform||"android"===e.buildPlatform?e.connectionType="wwan":e.connectionType="lan":e.connectionType="offline"},e.getOSVersionString=function(){return e.buildPlatform+" "+e.osVersionPair.version},e.runtimePlatformToString=function(){return e.osVersionPair.name},e.getBrowserVersionString=function(){var n,t=navigator.userAgent,r=t.match(/(opera|chrome|safari|firefox|ubrowser|msie|trident|fbav(?=\/))\/?\s*(\d+)/i)||[];if(0==r.length&&"ios"===e.buildPlatform)return"webkit_"+e.osVersion;if(/trident/i.test(r[1]))return"IE "+((n=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||"");if("Chrome"===r[1]&&null!=(n=t.match(/\b(OPR|Edge|UBrowser)\/(\d+)/)))return n.slice(1).join(" ").replace("OPR","Opera").replace("UBrowser","UC").toLowerCase();if(r[1]&&"fbav"===r[1].toLowerCase()&&(r[1]="facebook",r[2]))return"facebook "+r[2];var i=r[2]?[r[1],r[2]]:[navigator.appName,navigator.appVersion,"-?"];return null!=(n=t.match(/version\/(\d+)/i))&&i.splice(1,1,n[1]),i.join(" ").toLowerCase()},e.getDeviceModel=function(){return"unknown"},e.getDeviceManufacturer=function(){return"unknown"},e.matchItem=function(e,n){var r,i,a,o,s=new t("unknown","0.0.0"),d=0,l=0;for(d=0;d<n.length;d+=1)if(new RegExp(n[d].value,"i").test(e)){if(r=new RegExp(n[d].version+"[- /:;]([\\d._]+)","i"),o="",(i=e.match(r))&&i[1]&&(a=i[1]),a){var c=a.split(/[._]+/);for(l=0;l<Math.min(c.length,3);l+=1)o+=c[l]+(l<Math.min(c.length,3)-1?".":"")}else o="0.0.0";return s.name=n[d].name,s.version=o,s}return s},e.sdkWrapperVersion="javascript 4.4.5",e.osVersionPair=e.matchItem([navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor].join(" "),[new n("windows_phone","Windows Phone","OS"),new n("windows","Win","NT"),new n("ios","iPhone","OS"),new n("ios","iPad","OS"),new n("ios","iPod","OS"),new n("android","Android","Android"),new n("blackBerry","BlackBerry","/"),new n("mac_osx","Mac","OS X"),new n("tizen","Tizen","Tizen"),new n("linux","Linux","rv"),new n("kai_os","KAIOS","KAIOS")]),e.buildPlatform=e.runtimePlatformToString(),e.deviceModel=e.getDeviceModel(),e.deviceManufacturer=e.getDeviceManufacturer(),e.osVersion=e.getOSVersionString(),e.browserVersion=e.getBrowserVersionString(),e}();e.GADevice=r}(e.device||(e.device={}))}(o||(o={})),function(e){var n,t;n=e.threading||(e.threading={}),t=function(){function e(n){this.deadline=n,this.ignore=!1,this.async=!1,this.running=!1,this.id=++e.idCounter}return e.idCounter=0,e}(),n.TimedBlock=t}(o||(o={})),function(e){var n,t;n=e.threading||(e.threading={}),t=function(){function e(e){this.comparer=e,this._subQueues={},this._sortedKeys=[]}return e.prototype.enqueue=function(e,n){-1===this._sortedKeys.indexOf(e)&&this.addQueueOfPriority(e),this._subQueues[e].push(n)},e.prototype.addQueueOfPriority=function(e){var n=this;this._sortedKeys.push(e),this._sortedKeys.sort((function(e,t){return n.comparer.compare(e,t)})),this._subQueues[e]=[]},e.prototype.peek=function(){if(this.hasItems())return this._subQueues[this._sortedKeys[0]][0];throw new Error("The queue is empty")},e.prototype.hasItems=function(){return this._sortedKeys.length>0},e.prototype.dequeue=function(){if(this.hasItems())return this.dequeueFromHighPriorityQueue();throw new Error("The queue is empty")},e.prototype.dequeueFromHighPriorityQueue=function(){var e=this._sortedKeys[0],n=this._subQueues[e].shift();return 0===this._subQueues[e].length&&(this._sortedKeys.shift(),delete this._subQueues[e]),n},e}(),n.PriorityQueue=t}(o||(o={})),function(e){!function(n){var t,r,i=e.logging.GALogger;!function(e){e[e.Equal=0]="Equal",e[e.LessOrEqual=1]="LessOrEqual",e[e.NotEqual=2]="NotEqual"}(t=n.EGAStoreArgsOperator||(n.EGAStoreArgsOperator={})),function(e){e[e.Events=0]="Events",e[e.Sessions=1]="Sessions",e[e.Progression=2]="Progression"}(r=n.EGAStore||(n.EGAStore={}));var a=function(){function e(){this.eventsStore=[],this.sessionsStore=[],this.progressionStore=[],this.storeItems={};try{"object"==typeof localStorage?(localStorage.setItem("testingLocalStorage","yes"),localStorage.removeItem("testingLocalStorage"),e.storageAvailable=!0):e.storageAvailable=!1}catch(e){}}return e.isStorageAvailable=function(){return e.storageAvailable},e.isStoreTooLargeForEvents=function(){return e.instance.eventsStore.length+e.instance.sessionsStore.length>e.MaxNumberOfEntries},e.select=function(n,r,i,a){void 0===r&&(r=[]),void 0===i&&(i=!1),void 0===a&&(a=0);var o=e.getStore(n);if(!o)return null;for(var s=[],d=0;d<o.length;++d){for(var l=o[d],c=!0,u=0;u<r.length;++u){var m=r[u];if(l[m[0]])switch(m[1]){case t.Equal:c=l[m[0]]==m[2];break;case t.LessOrEqual:c=l[m[0]]<=m[2];break;case t.NotEqual:c=l[m[0]]!=m[2];break;default:c=!1}else c=!1;if(!c)break}c&&s.push(l)}return i&&s.sort((function(e,n){return e.client_ts-n.client_ts})),a>0&&s.length>a&&(s=s.slice(0,a+1)),s},e.update=function(n,r,i){void 0===i&&(i=[]);var a=e.getStore(n);if(!a)return!1;for(var o=0;o<a.length;++o){for(var s=a[o],d=!0,l=0;l<i.length;++l){var c=i[l];if(s[c[0]])switch(c[1]){case t.Equal:d=s[c[0]]==c[2];break;case t.LessOrEqual:d=s[c[0]]<=c[2];break;case t.NotEqual:d=s[c[0]]!=c[2];break;default:d=!1}else d=!1;if(!d)break}if(d)for(l=0;l<r.length;++l){var u=r[l];s[u[0]]=u[1]}}return!0},e.delete=function(n,r){var i=e.getStore(n);if(i)for(var a=0;a<i.length;++a){for(var o=i[a],s=!0,d=0;d<r.length;++d){var l=r[d];if(o[l[0]])switch(l[1]){case t.Equal:s=o[l[0]]==l[2];break;case t.LessOrEqual:s=o[l[0]]<=l[2];break;case t.NotEqual:s=o[l[0]]!=l[2];break;default:s=!1}else s=!1;if(!s)break}s&&(i.splice(a,1),--a)}},e.insert=function(n,t,r,i){void 0===r&&(r=!1),void 0===i&&(i=null);var a=e.getStore(n);if(a)if(r){if(!i)return;for(var o=!1,s=0;s<a.length;++s){var d=a[s];if(d[i]==t[i]){for(var l in t)d[l]=t[l];o=!0;break}}o||a.push(t)}else a.push(t)},e.save=function(n){e.isStorageAvailable()?(localStorage.setItem(e.StringFormat(e.KeyFormat,n,e.EventsStoreKey),JSON.stringify(e.instance.eventsStore)),localStorage.setItem(e.StringFormat(e.KeyFormat,n,e.SessionsStoreKey),JSON.stringify(e.instance.sessionsStore)),localStorage.setItem(e.StringFormat(e.KeyFormat,n,e.ProgressionStoreKey),JSON.stringify(e.instance.progressionStore)),localStorage.setItem(e.StringFormat(e.KeyFormat,n,e.ItemsStoreKey),JSON.stringify(e.instance.storeItems))):i.w("Storage is not available, cannot save.")},e.load=function(n){if(e.isStorageAvailable()){try{e.instance.eventsStore=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,n,e.EventsStoreKey))),e.instance.eventsStore||(e.instance.eventsStore=[])}catch(n){i.w("Load failed for 'events' store. Using empty store."),e.instance.eventsStore=[]}try{e.instance.sessionsStore=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,n,e.SessionsStoreKey))),e.instance.sessionsStore||(e.instance.sessionsStore=[])}catch(n){i.w("Load failed for 'sessions' store. Using empty store."),e.instance.sessionsStore=[]}try{e.instance.progressionStore=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,n,e.ProgressionStoreKey))),e.instance.progressionStore||(e.instance.progressionStore=[])}catch(n){i.w("Load failed for 'progression' store. Using empty store."),e.instance.progressionStore=[]}try{e.instance.storeItems=JSON.parse(localStorage.getItem(e.StringFormat(e.KeyFormat,n,e.ItemsStoreKey))),e.instance.storeItems||(e.instance.storeItems={})}catch(n){i.w("Load failed for 'items' store. Using empty store."),e.instance.progressionStore=[]}}else i.w("Storage is not available, cannot load.")},e.setItem=function(n,t,r){var i=e.StringFormat(e.KeyFormat,n,t);r?e.instance.storeItems[i]=r:i in e.instance.storeItems&&delete e.instance.storeItems[i]},e.getItem=function(n,t){var r=e.StringFormat(e.KeyFormat,n,t);return r in e.instance.storeItems?e.instance.storeItems[r]:null},e.getStore=function(n){switch(n){case r.Events:return e.instance.eventsStore;case r.Sessions:return e.instance.sessionsStore;case r.Progression:return e.instance.progressionStore;default:return i.w("GAStore.getStore(): Cannot find store: "+n),null}},e.instance=new e,e.MaxNumberOfEntries=2e3,e.StringFormat=function(e){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];return e.replace(/{(\d+)}/g,(function(e,t){return n[t]||""}))},e.KeyFormat="GA::{0}::{1}",e.EventsStoreKey="ga_event",e.SessionsStoreKey="ga_session",e.ProgressionStoreKey="ga_progression",e.ItemsStoreKey="ga_items",e}();n.GAStore=a}(e.store||(e.store={}))}(o||(o={})),function(e){!function(n){var t=e.validators.GAValidator,r=e.utilities.GAUtilities,i=e.logging.GALogger,a=e.store.GAStore,o=e.device.GADevice,s=e.store.EGAStore,d=e.store.EGAStoreArgsOperator,l=function(){function e(){this.availableCustomDimensions01=[],this.availableCustomDimensions02=[],this.availableCustomDimensions03=[],this.currentGlobalCustomEventFields={},this.availableResourceCurrencies=[],this.availableResourceItemTypes=[],this.configurations={},this.remoteConfigsListeners=[],this.beforeUnloadListeners=[],this.sdkConfigDefault={},this.sdkConfig={},this.progressionTries={},this._isEventSubmissionEnabled=!0,this.isUnloading=!1}return e.setUserId=function(n){e.instance.userId=n,e.cacheIdentifier()},e.getIdentifier=function(){return e.instance.identifier},e.isInitialized=function(){return e.instance.initialized},e.setInitialized=function(n){e.instance.initialized=n},e.getSessionStart=function(){return e.instance.sessionStart},e.getSessionNum=function(){return e.instance.sessionNum},e.getTransactionNum=function(){return e.instance.transactionNum},e.getSessionId=function(){return e.instance.sessionId},e.getCurrentCustomDimension01=function(){return e.instance.currentCustomDimension01},e.getCurrentCustomDimension02=function(){return e.instance.currentCustomDimension02},e.getCurrentCustomDimension03=function(){return e.instance.currentCustomDimension03},e.getGameKey=function(){return e.instance.gameKey},e.getGameSecret=function(){return e.instance.gameSecret},e.getAvailableCustomDimensions01=function(){return e.instance.availableCustomDimensions01},e.setAvailableCustomDimensions01=function(n){t.validateCustomDimensions(n)&&(e.instance.availableCustomDimensions01=n,e.validateAndFixCurrentDimensions(),i.i("Set available custom01 dimension values: ("+r.joinStringArray(n,", ")+")"))},e.getAvailableCustomDimensions02=function(){return e.instance.availableCustomDimensions02},e.setAvailableCustomDimensions02=function(n){t.validateCustomDimensions(n)&&(e.instance.availableCustomDimensions02=n,e.validateAndFixCurrentDimensions(),i.i("Set available custom02 dimension values: ("+r.joinStringArray(n,", ")+")"))},e.getAvailableCustomDimensions03=function(){return e.instance.availableCustomDimensions03},e.setAvailableCustomDimensions03=function(n){t.validateCustomDimensions(n)&&(e.instance.availableCustomDimensions03=n,e.validateAndFixCurrentDimensions(),i.i("Set available custom03 dimension values: ("+r.joinStringArray(n,", ")+")"))},e.getAvailableResourceCurrencies=function(){return e.instance.availableResourceCurrencies},e.setAvailableResourceCurrencies=function(n){t.validateResourceCurrencies(n)&&(e.instance.availableResourceCurrencies=n,i.i("Set available resource currencies: ("+r.joinStringArray(n,", ")+")"))},e.getAvailableResourceItemTypes=function(){return e.instance.availableResourceItemTypes},e.setAvailableResourceItemTypes=function(n){t.validateResourceItemTypes(n)&&(e.instance.availableResourceItemTypes=n,i.i("Set available resource item types: ("+r.joinStringArray(n,", ")+")"))},e.getBuild=function(){return e.instance.build},e.setBuild=function(n){e.instance.build=n,i.i("Set build version: "+n)},e.getUseManualSessionHandling=function(){return e.instance.useManualSessionHandling},e.isEventSubmissionEnabled=function(){return e.instance._isEventSubmissionEnabled},e.getABTestingId=function(){return e.instance.abId},e.getABTestingVariantId=function(){return e.instance.abVariantId},e.prototype.setDefaultId=function(n){this.defaultUserId=n||"",e.cacheIdentifier()},e.getDefaultId=function(){return e.instance.defaultUserId},e.getSdkConfig=function(){var n,t=0;for(var r in e.instance.sdkConfig)0===t&&(n=r),++t;if(n&&t>0)return e.instance.sdkConfig;for(var r in t=0,e.instance.sdkConfigCached)0===t&&(n=r),++t;return n&&t>0?e.instance.sdkConfigCached:e.instance.sdkConfigDefault},e.isEnabled=function(){return!!e.instance.initAuthorized},e.setCustomDimension01=function(n){e.instance.currentCustomDimension01=n,a.setItem(e.getGameKey(),e.Dimension01Key,n),i.i("Set custom01 dimension value: "+n)},e.setCustomDimension02=function(n){e.instance.currentCustomDimension02=n,a.setItem(e.getGameKey(),e.Dimension02Key,n),i.i("Set custom02 dimension value: "+n)},e.setCustomDimension03=function(n){e.instance.currentCustomDimension03=n,a.setItem(e.getGameKey(),e.Dimension03Key,n),i.i("Set custom03 dimension value: "+n)},e.incrementSessionNum=function(){var n=e.getSessionNum()+1;e.instance.sessionNum=n},e.incrementTransactionNum=function(){var n=e.getTransactionNum()+1;e.instance.transactionNum=n},e.incrementProgressionTries=function(n){var t=e.getProgressionTries(n)+1;e.instance.progressionTries[n]=t;var r={};r.progression=n,r.tries=t,a.insert(s.Progression,r,!0,"progression")},e.getProgressionTries=function(n){return n in e.instance.progressionTries?e.instance.progressionTries[n]:0},e.clearProgressionTries=function(n){n in e.instance.progressionTries&&delete e.instance.progressionTries[n];var t=[];t.push(["progression",d.Equal,n]),a.delete(s.Progression,t)},e.setKeys=function(n,t){e.instance.gameKey=n,e.instance.gameSecret=t},e.setManualSessionHandling=function(n){e.instance.useManualSessionHandling=n,i.i("Use manual session handling: "+n)},e.setEnabledEventSubmission=function(n){e.instance._isEventSubmissionEnabled=n},e.getEventAnnotations=function(){var n={v:2};n.event_uuid=r.createGuid(),n.user_id=e.instance.identifier,n.client_ts=e.getClientTsAdjusted(),n.sdk_version=o.getRelevantSdkVersion(),n.os_version=o.osVersion,n.manufacturer=o.deviceManufacturer,n.device=o.deviceModel,n.browser_version=o.browserVersion,n.platform=o.buildPlatform,n.session_id=e.instance.sessionId,n[e.SessionNumKey]=e.instance.sessionNum;var i=o.getConnectionType();if(t.validateConnectionType(i)&&(n.connection_type=i),o.gameEngineVersion&&(n.engine_version=o.gameEngineVersion),e.instance.configurations){var a=0;for(var s in e.instance.configurations){a++;break}a>0&&(n.configurations=e.instance.configurations)}return e.instance.abId&&(n.ab_id=e.instance.abId),e.instance.abVariantId&&(n.ab_variant_id=e.instance.abVariantId),e.instance.build&&(n.build=e.instance.build),n},e.getSdkErrorEventAnnotations=function(){var n={v:2};n.event_uuid=r.createGuid(),n.category=e.CategorySdkError,n.sdk_version=o.getRelevantSdkVersion(),n.os_version=o.osVersion,n.manufacturer=o.deviceManufacturer,n.device=o.deviceModel,n.platform=o.buildPlatform;var i=o.getConnectionType();return t.validateConnectionType(i)&&(n.connection_type=i),o.gameEngineVersion&&(n.engine_version=o.gameEngineVersion),n},e.getInitAnnotations=function(){var n={};return e.getIdentifier()||e.cacheIdentifier(),a.setItem(e.getGameKey(),e.LastUsedIdentifierKey,e.getIdentifier()),n.user_id=e.getIdentifier(),n.sdk_version=o.getRelevantSdkVersion(),n.os_version=o.osVersion,n.platform=o.buildPlatform,e.getBuild()?n.build=e.getBuild():n.build=null,n.session_num=e.getSessionNum(),n.random_salt=e.getSessionNum(),n},e.getClientTsAdjusted=function(){var n=r.timeIntervalSince1970(),i=n+e.instance.clientServerTimeOffset;return t.validateClientTs(i)?i:n},e.sessionIsStarted=function(){return 0!=e.instance.sessionStart},e.cacheIdentifier=function(){e.instance.userId?e.instance.identifier=e.instance.userId:e.instance.defaultUserId&&(e.instance.identifier=e.instance.defaultUserId)},e.ensurePersistedStates=function(){a.isStorageAvailable()&&a.load(e.getGameKey());var n=e.instance;n.setDefaultId(null!=a.getItem(e.getGameKey(),e.DefaultUserIdKey)?a.getItem(e.getGameKey(),e.DefaultUserIdKey):r.createGuid()),n.sessionNum=null!=a.getItem(e.getGameKey(),e.SessionNumKey)?Number(a.getItem(e.getGameKey(),e.SessionNumKey)):0,n.transactionNum=null!=a.getItem(e.getGameKey(),e.TransactionNumKey)?Number(a.getItem(e.getGameKey(),e.TransactionNumKey)):0,n.currentCustomDimension01?a.setItem(e.getGameKey(),e.Dimension01Key,n.currentCustomDimension01):(n.currentCustomDimension01=null!=a.getItem(e.getGameKey(),e.Dimension01Key)?a.getItem(e.getGameKey(),e.Dimension01Key):"",n.currentCustomDimension01),n.currentCustomDimension02?a.setItem(e.getGameKey(),e.Dimension02Key,n.currentCustomDimension02):(n.currentCustomDimension02=null!=a.getItem(e.getGameKey(),e.Dimension02Key)?a.getItem(e.getGameKey(),e.Dimension02Key):"",n.currentCustomDimension02),n.currentCustomDimension03?a.setItem(e.getGameKey(),e.Dimension03Key,n.currentCustomDimension03):(n.currentCustomDimension03=null!=a.getItem(e.getGameKey(),e.Dimension03Key)?a.getItem(e.getGameKey(),e.Dimension03Key):"",n.currentCustomDimension03);var t=null!=a.getItem(e.getGameKey(),e.SdkConfigCachedKey)?a.getItem(e.getGameKey(),e.SdkConfigCachedKey):"";if(t){var o=JSON.parse(r.decode64(t));if(o){var d=a.getItem(e.getGameKey(),e.LastUsedIdentifierKey);null!=d&&d!=e.getIdentifier()&&(i.w("New identifier spotted compared to last one used, clearing cached configs hash!!"),o.configs_hash&&delete o.configs_hash),n.sdkConfigCached=o}}var l=e.getSdkConfig();n.configsHash=l.configs_hash?l.configs_hash:"",n.abId=l.ab_id?l.ab_id:"",n.abVariantId=l.ab_variant_id?l.ab_variant_id:"";var c=a.select(s.Progression);if(c)for(var u=0;u<c.length;++u){var m=c[u];m&&(n.progressionTries[m.progression]=m.tries)}},e.calculateServerTimeOffset=function(e){return e-r.timeIntervalSince1970()},e.formatString=function(e,n){for(var t=e,r=0;r<n.length;r++){var i=new RegExp("\\{"+r+"\\}","gi");t=t.replace(i,arguments[r])}return t},e.validateAndCleanCustomFields=function(n,t){void 0===t&&(t=null);var a={};if(n){var o=0;for(var s in n){var d=n[s];if(s&&d)if(o<e.MAX_CUSTOM_FIELDS_COUNT){var l=new RegExp("^[a-zA-Z0-9_]{1,"+e.MAX_CUSTOM_FIELDS_KEY_LENGTH+"}$");if(r.stringMatch(s,l)){var c=typeof d;if("string"===c||d instanceof String){var u=d;u.length<=e.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH&&u.length>0?(a[s]=u,++o):(g="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its value is an empty string or exceeds the max number of characters ("+e.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH+")",f=e.formatString(g,[s,d]),i.w(f),t&&t(g,f))}else if("number"===c||d instanceof Number){var m=d;a[s]=m,++o}else g="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its value is not a string or number",f=e.formatString(g,[s,d]),i.w(f),t&&t(g,f)}else g="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its key contains illegal character, is empty or exceeds the max number of characters ("+e.MAX_CUSTOM_FIELDS_KEY_LENGTH+")",f=e.formatString(g,[s,d]),i.w(f),t&&t(g,f)}else g="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because it exceeds the max number of custom fields ("+e.MAX_CUSTOM_FIELDS_COUNT+")",f=e.formatString(g,[s,d]),i.w(f),t&&t(g,f);else{var g="validateAndCleanCustomFields: entry with key={0}, value={1} has been omitted because its key or value is null",f=e.formatString(g,[s,d]);i.w(f),t&&t(g,f)}}}return a},e.validateAndFixCurrentDimensions=function(){t.validateDimension01(e.getCurrentCustomDimension01(),e.getAvailableCustomDimensions01())||e.setCustomDimension01(""),t.validateDimension02(e.getCurrentCustomDimension02(),e.getAvailableCustomDimensions02())||e.setCustomDimension02(""),t.validateDimension03(e.getCurrentCustomDimension03(),e.getAvailableCustomDimensions03())||e.setCustomDimension03("")},e.getConfigurationStringValue=function(n,t){return e.instance.configurations[n]?e.instance.configurations[n].toString():t},e.isRemoteConfigsReady=function(){return e.instance.remoteConfigsIsReady},e.addRemoteConfigsListener=function(n){e.instance.remoteConfigsListeners.indexOf(n)<0&&e.instance.remoteConfigsListeners.push(n)},e.removeRemoteConfigsListener=function(n){var t=e.instance.remoteConfigsListeners.indexOf(n);t>-1&&e.instance.remoteConfigsListeners.splice(t,1)},e.getRemoteConfigsContentAsString=function(){return JSON.stringify(e.instance.configurations)},e.populateConfigurations=function(n){var t=n.configs;if(t){e.instance.configurations={};for(var r=0;r<t.length;++r){var i=t[r];if(i){var a=i.key,o=i.value,s=i.start_ts?i.start_ts:Number.MIN_VALUE,d=i.end_ts?i.end_ts:Number.MAX_VALUE,l=e.getClientTsAdjusted();a&&o&&l>s&&l<d&&(e.instance.configurations[a]=o)}}}e.instance.remoteConfigsIsReady=!0;var c=e.instance.remoteConfigsListeners;for(r=0;r<c.length;++r)c[r]&&c[r].onRemoteConfigsUpdated()},e.addOnBeforeUnloadListener=function(n){e.instance.beforeUnloadListeners.indexOf(n)<0&&e.instance.beforeUnloadListeners.push(n)},e.removeOnBeforeUnloadListener=function(n){var t=e.instance.beforeUnloadListeners.indexOf(n);t>-1&&e.instance.beforeUnloadListeners.splice(t,1)},e.notifyBeforeUnloadListeners=function(){for(var n=e.instance.beforeUnloadListeners,t=0;t<n.length;++t)n[t]&&n[t].onBeforeUnload()},e.CategorySdkError="sdk_error",e.MAX_CUSTOM_FIELDS_COUNT=50,e.MAX_CUSTOM_FIELDS_KEY_LENGTH=64,e.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH=256,e.instance=new e,e.DefaultUserIdKey="default_user_id",e.SessionNumKey="session_num",e.TransactionNumKey="transaction_num",e.Dimension01Key="dimension01",e.Dimension02Key="dimension02",e.Dimension03Key="dimension03",e.SdkConfigCachedKey="sdk_config_cached",e.LastUsedIdentifierKey="last_used_identifier",e}();n.GAState=l}(e.state||(e.state={}))}(o||(o={})),function(e){var n,t,r,i;n=e.tasks||(e.tasks={}),t=e.utilities.GAUtilities,r=e.logging.GALogger,i=function(){function e(){}return e.execute=function(n,i,a,o){var s=new Date;if(e.timestampMap[i]||(e.timestampMap[i]=s),e.countMap[i]||(e.countMap[i]=0),(s.getTime()-e.timestampMap[i].getTime())/1e3>=3600&&(e.timestampMap[i]=s,e.countMap[i]=0),!(e.countMap[i]>=e.MaxCount)){var d=t.getHmac(o,a),l=new XMLHttpRequest;l.onreadystatechange=function(){if(4===l.readyState){if(!l.responseText)return;if(200!=l.status)return void r.w("sdk error failed. response code not 200. status code: "+l.status+", description: "+l.statusText+", body: "+l.responseText);e.countMap[i]=e.countMap[i]+1}},l.open("POST",n,!0),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",d);try{l.send(a)}catch(e){console.error(e)}}},e.MaxCount=10,e.countMap={},e.timestampMap={},e}(),n.SdkErrorTask=i}(o||(o={})),function(e){var n,t,r,i,a,o,s,d,l,c,u;n=e.http||(e.http={}),t=e.state.GAState,r=e.logging.GALogger,i=e.utilities.GAUtilities,a=e.validators.GAValidator,o=e.tasks.SdkErrorTask,s=e.events.EGASdkErrorCategory,d=e.events.EGASdkErrorArea,l=e.events.EGASdkErrorAction,c=e.events.EGASdkErrorParameter,u=function(){function e(){this.protocol="https",this.hostName="api.gameanalytics.com",this.version="v2",this.remoteConfigsVersion="v1",this.baseUrl=this.protocol+"://"+this.hostName+"/"+this.version,this.remoteConfigsBaseUrl=this.protocol+"://"+this.hostName+"/remote_configs/"+this.remoteConfigsVersion,this.initializeUrlPath="init",this.eventsUrlPath="events",this.useGzip=!1}return e.prototype.requestInit=function(r,i){var a=t.getGameKey(),o=this.remoteConfigsBaseUrl+"/"+this.initializeUrlPath+"?game_key="+a+"&interval_seconds=0&configs_hash="+r,s=t.getInitAnnotations(),d=JSON.stringify(s);if(d){var l=this.createPayloadData(d,this.useGzip),c=[];c.push(d),e.sendRequest(o,l,c,this.useGzip,e.initRequestCallback,i)}else i(n.EGAHTTPApiResponse.JsonEncodeFailed,null)},e.prototype.sendEventsInArray=function(r,i,a){if(0!=r.length){var o=t.getGameKey(),s=this.baseUrl+"/"+o+"/"+this.eventsUrlPath,d=JSON.stringify(r);if(d){var l=this.createPayloadData(d,this.useGzip),c=[];c.push(d),c.push(i),c.push(r.length.toString()),e.sendRequest(s,l,c,this.useGzip,e.sendEventInArrayRequestCallback,a)}else a(n.EGAHTTPApiResponse.JsonEncodeFailed,null,i,r.length)}},e.prototype.sendSdkErrorEvent=function(n,i,s,d,l,c,u){if(t.isEventSubmissionEnabled()&&a.validateSdkErrorEvent(c,u,n,i,s)){var m,g=this.baseUrl+"/"+c+"/"+this.eventsUrlPath,f="",p=t.getSdkErrorEventAnnotations(),v=e.sdkErrorCategoryString(n);p.error_category=v,f+=v;var b=e.sdkErrorAreaString(i);p.error_area=b,f+=":"+b;var h=e.sdkErrorActionString(s);p.error_action=h;var y=e.sdkErrorParameterString(d);if(y.length>0&&(p.error_parameter=y),l.length>0){var E=l;l.length>e.MAX_ERROR_MESSAGE_LENGTH&&(E=l.substring(0,e.MAX_ERROR_MESSAGE_LENGTH)),p.reason=E}var S=[];S.push(p),(m=JSON.stringify(S))?o.execute(g,f,m,u):r.w("sendSdkErrorEvent: JSON encoding failed.")}},e.sendEventInArrayRequestCallback=function(r,i,a,o){void 0===o&&(o=null),o[0],o[1];var u,m,g=o[2],f=parseInt(o[3]);u=r.responseText,m=r.status;var p=e.instance.processRequestResponse(m,r.statusText,u,"Events");if(p==n.EGAHTTPApiResponse.Ok||p==n.EGAHTTPApiResponse.Created||p==n.EGAHTTPApiResponse.BadRequest){var v=u?JSON.parse(u):{};if(null==v)return a(n.EGAHTTPApiResponse.JsonDecodeFailed,null,g,f),void e.instance.sendSdkErrorEvent(s.Http,d.EventsHttp,l.FailHttpJsonDecode,c.Undefined,u,t.getGameKey(),t.getGameSecret());n.EGAHTTPApiResponse.BadRequest,a(p,v,g,f)}else a(p,null,g,f)},e.sendRequest=function(e,n,r,a,o,s){var d=new XMLHttpRequest,l=t.getGameSecret(),c=i.getHmac(l,n),u=[];for(var m in u.push(c),r)u.push(r[m]);if(d.onreadystatechange=function(){4===d.readyState&&o(d,e,s,u)},d.open("POST",e,!0),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",c),a)throw new Error("gzip not supported");try{d.send(n)}catch(e){console.error(e.stack)}},e.initRequestCallback=function(r,i,o,u){var m,g;void 0===u&&(u=null),u[0],u[1],m=r.responseText,g=r.status;var f=m?JSON.parse(m):{},p=e.instance.processRequestResponse(g,r.statusText,m,"Init");if(p==n.EGAHTTPApiResponse.Ok||p==n.EGAHTTPApiResponse.Created||p==n.EGAHTTPApiResponse.BadRequest){if(null==f)return o(n.EGAHTTPApiResponse.JsonDecodeFailed,null,"",0),void e.instance.sendSdkErrorEvent(s.Http,d.InitHttp,l.FailHttpJsonDecode,c.Undefined,m,t.getGameKey(),t.getGameSecret());if(p!==n.EGAHTTPApiResponse.BadRequest){var v=a.validateAndCleanInitRequestResponse(f,p===n.EGAHTTPApiResponse.Created);v?o(p,v,"",0):o(n.EGAHTTPApiResponse.BadResponse,null,"",0)}else o(p,null,"",0)}else o(p,null,"",0)},e.prototype.createPayloadData=function(e,n){if(n)throw new Error("gzip not supported");return e},e.prototype.processRequestResponse=function(e,t,r,i){return r?200===e?n.EGAHTTPApiResponse.Ok:201===e?n.EGAHTTPApiResponse.Created:0===e||401===e?n.EGAHTTPApiResponse.Unauthorized:400===e?n.EGAHTTPApiResponse.BadRequest:500===e?n.EGAHTTPApiResponse.InternalServerError:n.EGAHTTPApiResponse.UnknownResponseCode:n.EGAHTTPApiResponse.NoResponse},e.sdkErrorCategoryString=function(e){switch(e){case s.EventValidation:return"event_validation";case s.Database:return"db";case s.Init:return"init";case s.Http:return"http";case s.Json:return"json"}return""},e.sdkErrorAreaString=function(e){switch(e){case d.BusinessEvent:return"business";case d.ResourceEvent:return"resource";case d.ProgressionEvent:return"progression";case d.DesignEvent:return"design";case d.ErrorEvent:return"error";case d.InitHttp:return"init_http";case d.EventsHttp:return"events_http";case d.ProcessEvents:return"process_events";case d.AddEventsToStore:return"add_events_to_store"}return""},e.sdkErrorActionString=function(e){switch(e){case l.InvalidCurrency:return"invalid_currency";case l.InvalidShortString:return"invalid_short_string";case l.InvalidEventPartLength:return"invalid_event_part_length";case l.InvalidEventPartCharacters:return"invalid_event_part_characters";case l.InvalidStore:return"invalid_store";case l.InvalidFlowType:return"invalid_flow_type";case l.StringEmptyOrNull:return"string_empty_or_null";case l.NotFoundInAvailableCurrencies:return"not_found_in_available_currencies";case l.InvalidAmount:return"invalid_amount";case l.NotFoundInAvailableItemTypes:return"not_found_in_available_item_types";case l.WrongProgressionOrder:return"wrong_progression_order";case l.InvalidEventIdLength:return"invalid_event_id_length";case l.InvalidEventIdCharacters:return"invalid_event_id_characters";case l.InvalidProgressionStatus:return"invalid_progression_status";case l.InvalidSeverity:return"invalid_severity";case l.InvalidLongString:return"invalid_long_string";case l.DatabaseTooLarge:return"db_too_large";case l.DatabaseOpenOrCreate:return"db_open_or_create";case l.JsonError:return"json_error";case l.FailHttpJsonDecode:return"fail_http_json_decode";case l.FailHttpJsonEncode:return"fail_http_json_encode"}return""},e.sdkErrorParameterString=function(e){switch(e){case c.Currency:return"currency";case c.CartType:return"cart_type";case c.ItemType:return"item_type";case c.ItemId:return"item_id";case c.Store:return"store";case c.FlowType:return"flow_type";case c.Amount:return"amount";case c.Progression01:return"progression01";case c.Progression02:return"progression02";case c.Progression03:return"progression03";case c.EventId:return"event_id";case c.ProgressionStatus:return"progression_status";case c.Severity:return"severity";case c.Message:return"message"}return""},e.instance=new e,e.MAX_ERROR_MESSAGE_LENGTH=256,e}(),n.GAHTTPApi=u}(o||(o={})),function(e){var n,t,r,i,a,o,s,d,l,c,u;n=e.events||(e.events={}),t=e.store.GAStore,r=e.store.EGAStore,i=e.store.EGAStoreArgsOperator,a=e.state.GAState,o=e.logging.GALogger,s=e.utilities.GAUtilities,d=e.http.EGAHTTPApiResponse,l=e.http.GAHTTPApi,c=e.validators.GAValidator,u=function(){function u(){}return u.customEventFieldsErrorCallback=function(n,t){if(a.isEventSubmissionEnabled()){var r=new Date;u.timestampMap[n]||(u.timestampMap[n]=r),u.countMap[n]||(u.countMap[n]=0),(r.getTime()-u.timestampMap[n].getTime())/1e3>=3600&&(u.timestampMap[n]=r,u.countMap[n]=0),u.countMap[n]>=u.MAX_ERROR_COUNT||e.threading.GAThreading.performTaskOnGAThread((function(){u.addErrorEvent(e.EGAErrorSeverity.Warning,t,null,!0),u.countMap[n]=u.countMap[n]+1}))}},u.addSessionStartEvent=function(){if(a.isEventSubmissionEnabled()){var e={};e.category=u.CategorySessionStart,a.incrementSessionNum(),t.setItem(a.getGameKey(),a.SessionNumKey,a.getSessionNum().toString()),u.addDimensionsToEvent(e);var n=a.instance.currentGlobalCustomEventFields;u.addCustomFieldsToEvent(e,a.validateAndCleanCustomFields(n,u.customEventFieldsErrorCallback)),u.addEventToStore(e),o.i("Add SESSION START event"),u.processEvents(u.CategorySessionStart,!1)}},u.addSessionEndEvent=function(){if(a.isEventSubmissionEnabled()){var e=a.getSessionStart(),n=a.getClientTsAdjusted()-e;n<0&&(o.w("Session length was calculated to be less then 0. Should not be possible. Resetting to 0."),n=0);var t={};t.category=u.CategorySessionEnd,t.length=n,u.addDimensionsToEvent(t);var r=a.instance.currentGlobalCustomEventFields;u.addCustomFieldsToEvent(t,a.validateAndCleanCustomFields(r,u.customEventFieldsErrorCallback)),u.addEventToStore(t),o.i("Add SESSION END event."),u.processEvents("",!1)}},u.addBusinessEvent=function(e,n,r,i,s,d,m){if(void 0===s&&(s=null),a.isEventSubmissionEnabled()){var g=c.validateBusinessEvent(e,n,s,r,i);if(null==g){var f={};a.incrementTransactionNum(),t.setItem(a.getGameKey(),a.TransactionNumKey,a.getTransactionNum().toString()),f.event_id=r+":"+i,f.category=u.CategoryBusiness,f.currency=e,f.amount=n,f[a.TransactionNumKey]=a.getTransactionNum(),s&&(f.cart_type=s),u.addDimensionsToEvent(f);var p={};if(d&&Object.keys(d).length>0)for(var v in d)p[v]=d[v];else for(var v in a.instance.currentGlobalCustomEventFields)p[v]=a.instance.currentGlobalCustomEventFields[v];if(m&&d&&Object.keys(d).length>0)for(var v in a.instance.currentGlobalCustomEventFields)p[v]||(p[v]=a.instance.currentGlobalCustomEventFields[v]);u.addCustomFieldsToEvent(f,a.validateAndCleanCustomFields(p,u.customEventFieldsErrorCallback)),o.i("Add BUSINESS event: {currency:"+e+", amount:"+n+", itemType:"+r+", itemId:"+i+", cartType:"+s+"}"),u.addEventToStore(f)}else l.instance.sendSdkErrorEvent(g.category,g.area,g.action,g.parameter,g.reason,a.getGameKey(),a.getGameSecret())}},u.addResourceEvent=function(n,t,r,i,s,d,m){if(a.isEventSubmissionEnabled()){var g=c.validateResourceEvent(n,t,r,i,s,a.getAvailableResourceCurrencies(),a.getAvailableResourceItemTypes());if(null==g){n===e.EGAResourceFlowType.Sink&&(r*=-1);var f={},p=u.resourceFlowTypeToString(n);f.event_id=p+":"+t+":"+i+":"+s,f.category=u.CategoryResource,f.amount=r,u.addDimensionsToEvent(f);var v={};if(d&&Object.keys(d).length>0)for(var b in d)v[b]=d[b];else for(var b in a.instance.currentGlobalCustomEventFields)v[b]=a.instance.currentGlobalCustomEventFields[b];if(m&&d&&Object.keys(d).length>0)for(var b in a.instance.currentGlobalCustomEventFields)v[b]||(v[b]=a.instance.currentGlobalCustomEventFields[b]);u.addCustomFieldsToEvent(f,a.validateAndCleanCustomFields(v,u.customEventFieldsErrorCallback)),o.i("Add RESOURCE event: {currency:"+t+", amount:"+r+", itemType:"+i+", itemId:"+s+"}"),u.addEventToStore(f)}else l.instance.sendSdkErrorEvent(g.category,g.area,g.action,g.parameter,g.reason,a.getGameKey(),a.getGameSecret())}},u.addProgressionEvent=function(n,t,r,i,s,d,m,g){if(a.isEventSubmissionEnabled()){var f=u.progressionStatusToString(n),p=c.validateProgressionEvent(n,t,r,i);if(null==p){var v,b={};v=r?i?t+":"+r+":"+i:t+":"+r:t,b.category=u.CategoryProgression,b.event_id=f+":"+v;var h=0;d&&n!=e.EGAProgressionStatus.Start&&(b.score=Math.round(s)),n===e.EGAProgressionStatus.Fail&&a.incrementProgressionTries(v),n===e.EGAProgressionStatus.Complete&&(a.incrementProgressionTries(v),h=a.getProgressionTries(v),b.attempt_num=h,a.clearProgressionTries(v)),u.addDimensionsToEvent(b);var y={};if(m&&Object.keys(m).length>0)for(var E in m)y[E]=m[E];else for(var E in a.instance.currentGlobalCustomEventFields)y[E]=a.instance.currentGlobalCustomEventFields[E];if(g&&m&&Object.keys(m).length>0)for(var E in a.instance.currentGlobalCustomEventFields)y[E]||(y[E]=a.instance.currentGlobalCustomEventFields[E]);u.addCustomFieldsToEvent(b,a.validateAndCleanCustomFields(y,u.customEventFieldsErrorCallback)),o.i("Add PROGRESSION event: {status:"+f+", progression01:"+t+", progression02:"+r+", progression03:"+i+", score:"+s+", attempt:"+h+"}"),u.addEventToStore(b)}else l.instance.sendSdkErrorEvent(p.category,p.area,p.action,p.parameter,p.reason,a.getGameKey(),a.getGameSecret())}},u.addDesignEvent=function(e,n,t,r,i){if(a.isEventSubmissionEnabled()){var s=c.validateDesignEvent(e);if(null==s){var d={};d.category=u.CategoryDesign,d.event_id=e,t&&(d.value=n),u.addDimensionsToEvent(d);var m={};if(r&&Object.keys(r).length>0)for(var g in r)m[g]=r[g];else for(var g in a.instance.currentGlobalCustomEventFields)m[g]=a.instance.currentGlobalCustomEventFields[g];if(i&&r&&Object.keys(r).length>0)for(var g in a.instance.currentGlobalCustomEventFields)m[g]||(m[g]=a.instance.currentGlobalCustomEventFields[g]);u.addCustomFieldsToEvent(d,a.validateAndCleanCustomFields(m,u.customEventFieldsErrorCallback)),o.i("Add DESIGN event: {eventId:"+e+", value:"+n+"}"),u.addEventToStore(d)}else l.instance.sendSdkErrorEvent(s.category,s.area,s.action,s.parameter,s.reason,a.getGameKey(),a.getGameSecret())}},u.addErrorEvent=function(e,n,t,r,i){if(void 0===i&&(i=!1),a.isEventSubmissionEnabled()){var s=u.errorSeverityToString(e),d=c.validateErrorEvent(e,n);if(null==d){var m={};if(m.category=u.CategoryError,m.severity=s,m.message=n,u.addDimensionsToEvent(m),!i){var g={};if(t&&Object.keys(t).length>0)for(var f in t)g[f]=t[f];else for(var f in a.instance.currentGlobalCustomEventFields)g[f]=a.instance.currentGlobalCustomEventFields[f];if(r&&t&&Object.keys(t).length>0)for(var f in a.instance.currentGlobalCustomEventFields)g[f]||(g[f]=a.instance.currentGlobalCustomEventFields[f]);u.addCustomFieldsToEvent(m,a.validateAndCleanCustomFields(g,u.customEventFieldsErrorCallback))}o.i("Add ERROR event: {severity:"+s+", message:"+n+"}"),u.addEventToStore(m)}else l.instance.sendSdkErrorEvent(d.category,d.area,d.action,d.parameter,d.reason,a.getGameKey(),a.getGameSecret())}},u.addAdEvent=function(n,t,r,i,s,d,m,g,f){if(a.isEventSubmissionEnabled()){var p=u.adActionToString(n),v=u.adTypeToString(t),b=u.adErrorToString(s),h=c.validateAdEvent(n,t,r,i);if(null==h){var y={};y.category=u.CategoryAds,y.ad_sdk_name=r,y.ad_placement=i,y.ad_type=v,y.ad_action=p,n==e.EGAAdAction.FailedShow&&b.length>0&&(y.ad_fail_show_reason=b),!m||t!=e.EGAAdType.RewardedVideo&&t!=e.EGAAdType.Video||(y.ad_duration=d),u.addDimensionsToEvent(y);var E={};if(g&&Object.keys(g).length>0)for(var S in g)E[S]=g[S];else for(var S in a.instance.currentGlobalCustomEventFields)E[S]=a.instance.currentGlobalCustomEventFields[S];if(f&&g&&Object.keys(g).length>0)for(var S in a.instance.currentGlobalCustomEventFields)E[S]||(E[S]=a.instance.currentGlobalCustomEventFields[S]);u.addCustomFieldsToEvent(y,a.validateAndCleanCustomFields(E,u.customEventFieldsErrorCallback)),o.i("Add AD event: {ad_sdk_name:"+r+", ad_placement:"+i+", ad_type:"+v+", ad_action:"+p+(n==e.EGAAdAction.FailedShow&&b.length>0?", ad_fail_show_reason:"+b:"")+(!m||t!=e.EGAAdType.RewardedVideo&&t!=e.EGAAdType.Video?"":", ad_duration:"+d)+"}"),u.addEventToStore(y)}else l.instance.sendSdkErrorEvent(h.category,h.area,h.action,h.parameter,h.reason,a.getGameKey(),a.getGameSecret())}},u.processEvents=function(e,d){if(a.isEventSubmissionEnabled())try{var m=s.createGuid();d&&(u.cleanupEvents(),u.fixMissingSessionEndEvents());var g=[];g.push(["status",i.Equal,"new"]);var f=[];f.push(["status",i.Equal,"new"]),e&&(g.push(["category",i.Equal,e]),f.push(["category",i.Equal,e]));var p=[];p.push(["status",m]);var v=t.select(r.Events,g);if(!v||0==v.length)return o.i("Event queue: No events to send"),void u.updateSessionStore();if(v.length>u.MaxEventCount){if(!(v=t.select(r.Events,g,!0,u.MaxEventCount)))return;var b=v[v.length-1].client_ts;if(g.push(["client_ts",i.LessOrEqual,b]),!(v=t.select(r.Events,g)))return;f.push(["client_ts",i.LessOrEqual,b])}if(o.i("Event queue: Sending "+v.length+" events."),!t.update(r.Events,p,f))return;for(var h=[],y=0;y<v.length;++y){var E=v[y],S=JSON.parse(s.decode64(E.event));if(0!=S.length){var w=S.client_ts;w&&!c.validateClientTs(w)&&delete S.client_ts,h.push(S)}}l.instance.sendEventsInArray(h,m,u.processEventsCallback)}catch(e){o.e("Error during ProcessEvents(): "+e.stack),l.instance.sendSdkErrorEvent(n.EGASdkErrorCategory.Json,n.EGASdkErrorArea.ProcessEvents,n.EGASdkErrorAction.JsonError,n.EGASdkErrorParameter.Undefined,e.stack,a.getGameKey(),a.getGameSecret())}},u.processEventsCallback=function(e,n,a,s){var l=[];if(l.push(["status",i.Equal,a]),e===d.Ok)t.delete(r.Events,l),o.i("Event queue: "+s+" events sent.");else if(e===d.NoResponse){var c=[];c.push(["status","new"]),o.w("Event queue: Failed to send events to collector - Retrying next time"),t.update(r.Events,c,l)}else{if(n){var u,m=0;for(var g in n)0==m&&(u=n[g]),++m;e===d.BadRequest&&u.constructor===Array?o.w("Event queue: "+s+" events sent. "+m+" events failed GA server validation."):o.w("Event queue: Failed to send events.")}else o.w("Event queue: Failed to send events.");t.delete(r.Events,l)}},u.cleanupEvents=function(){t.update(r.Events,[["status","new"]])},u.fixMissingSessionEndEvents=function(){if(a.isEventSubmissionEnabled()){var e=[];e.push(["session_id",i.NotEqual,a.getSessionId()]);var n=t.select(r.Sessions,e);if(n&&0!=n.length){o.i(n.length+" session(s) located with missing session_end event.");for(var d=0;d<n.length;++d){var l=JSON.parse(s.decode64(n[d].event)),c=l.client_ts-n[d].timestamp;c=Math.max(0,c),l.category=u.CategorySessionEnd,l.length=c,u.addEventToStore(l)}}}},u.addEventToStore=function(e){if(a.isEventSubmissionEnabled())if(a.isInitialized())try{if(t.isStoreTooLargeForEvents()&&!s.stringMatch(e.category,/^(user|session_end|business)$/))return o.w("Database too large. Event has been blocked."),void l.instance.sendSdkErrorEvent(n.EGASdkErrorCategory.Database,n.EGASdkErrorArea.AddEventsToStore,n.EGASdkErrorAction.DatabaseTooLarge,n.EGASdkErrorParameter.Undefined,"",a.getGameKey(),a.getGameSecret());var d=a.getEventAnnotations();for(var c in e)d[c]=e[c];var m=JSON.stringify(d);o.ii("Event added to queue: "+m);var g={status:"new"};g.category=d.category,g.session_id=d.session_id,g.client_ts=d.client_ts,g.event=s.encode64(JSON.stringify(d)),t.insert(r.Events,g),e.category==u.CategorySessionEnd?t.delete(r.Sessions,[["session_id",i.Equal,d.session_id]]):u.updateSessionStore(),t.isStorageAvailable()&&t.save(a.getGameKey())}catch(c){o.e("addEventToStore: error"),o.e(c.stack),l.instance.sendSdkErrorEvent(n.EGASdkErrorCategory.Database,n.EGASdkErrorArea.AddEventsToStore,n.EGASdkErrorAction.DatabaseTooLarge,n.EGASdkErrorParameter.Undefined,c.stack,a.getGameKey(),a.getGameSecret())}else o.w("Could not add event: SDK is not initialized")},u.updateSessionStore=function(){if(a.sessionIsStarted()){var e={};e.session_id=a.instance.sessionId,e.timestamp=a.getSessionStart();var n=a.getEventAnnotations();u.addDimensionsToEvent(n);var i=a.instance.currentGlobalCustomEventFields;u.addCustomFieldsToEvent(n,a.validateAndCleanCustomFields(i,u.customEventFieldsErrorCallback)),e.event=s.encode64(JSON.stringify(n)),t.insert(r.Sessions,e,!0,"session_id"),t.isStorageAvailable()&&t.save(a.getGameKey())}},u.addDimensionsToEvent=function(e){e&&(a.getCurrentCustomDimension01()&&(e.custom_01=a.getCurrentCustomDimension01()),a.getCurrentCustomDimension02()&&(e.custom_02=a.getCurrentCustomDimension02()),a.getCurrentCustomDimension03()&&(e.custom_03=a.getCurrentCustomDimension03()))},u.addCustomFieldsToEvent=function(e,n){e&&n&&Object.keys(n).length>0&&(e.custom_fields=n)},u.resourceFlowTypeToString=function(n){return n==e.EGAResourceFlowType.Source||n==e.EGAResourceFlowType[e.EGAResourceFlowType.Source]?"Source":n==e.EGAResourceFlowType.Sink||n==e.EGAResourceFlowType[e.EGAResourceFlowType.Sink]?"Sink":""},u.progressionStatusToString=function(n){return n==e.EGAProgressionStatus.Start||n==e.EGAProgressionStatus[e.EGAProgressionStatus.Start]?"Start":n==e.EGAProgressionStatus.Complete||n==e.EGAProgressionStatus[e.EGAProgressionStatus.Complete]?"Complete":n==e.EGAProgressionStatus.Fail||n==e.EGAProgressionStatus[e.EGAProgressionStatus.Fail]?"Fail":""},u.errorSeverityToString=function(n){return n==e.EGAErrorSeverity.Debug||n==e.EGAErrorSeverity[e.EGAErrorSeverity.Debug]?"debug":n==e.EGAErrorSeverity.Info||n==e.EGAErrorSeverity[e.EGAErrorSeverity.Info]?"info":n==e.EGAErrorSeverity.Warning||n==e.EGAErrorSeverity[e.EGAErrorSeverity.Warning]?"warning":n==e.EGAErrorSeverity.Error||n==e.EGAErrorSeverity[e.EGAErrorSeverity.Error]?"error":n==e.EGAErrorSeverity.Critical||n==e.EGAErrorSeverity[e.EGAErrorSeverity.Critical]?"critical":""},u.adActionToString=function(n){return n==e.EGAAdAction.Clicked||n==e.EGAAdAction[e.EGAAdAction.Clicked]?"clicked":n==e.EGAAdAction.Show||n==e.EGAAdAction[e.EGAAdAction.Show]?"show":n==e.EGAAdAction.FailedShow||n==e.EGAAdAction[e.EGAAdAction.FailedShow]?"failed_show":n==e.EGAAdAction.RewardReceived||n==e.EGAAdAction[e.EGAAdAction.RewardReceived]?"reward_received":""},u.adErrorToString=function(n){return n==e.EGAAdError.Unknown||n==e.EGAAdError[e.EGAAdError.Unknown]?"unknown":n==e.EGAAdError.Offline||n==e.EGAAdError[e.EGAAdError.Offline]?"offline":n==e.EGAAdError.NoFill||n==e.EGAAdError[e.EGAAdError.NoFill]?"no_fill":n==e.EGAAdError.InternalError||n==e.EGAAdError[e.EGAAdError.InternalError]?"internal_error":n==e.EGAAdError.InvalidRequest||n==e.EGAAdError[e.EGAAdError.InvalidRequest]?"invalid_request":n==e.EGAAdError.UnableToPrecache||n==e.EGAAdError[e.EGAAdError.UnableToPrecache]?"unable_to_precache":""},u.adTypeToString=function(n){return n==e.EGAAdType.Video||n==e.EGAAdType[e.EGAAdType.Video]?"video":n==e.EGAAdType.RewardedVideo||n==e.EGAAdError[e.EGAAdType.RewardedVideo]?"rewarded_video":n==e.EGAAdType.Playable||n==e.EGAAdError[e.EGAAdType.Playable]?"playable":n==e.EGAAdType.Interstitial||n==e.EGAAdError[e.EGAAdType.Interstitial]?"interstitial":n==e.EGAAdType.OfferWall||n==e.EGAAdError[e.EGAAdType.OfferWall]?"offer_wall":n==e.EGAAdType.Banner||n==e.EGAAdError[e.EGAAdType.Banner]?"banner":""},u.CategorySessionStart="user",u.CategorySessionEnd="session_end",u.CategoryDesign="design",u.CategoryBusiness="business",u.CategoryProgression="progression",u.CategoryResource="resource",u.CategoryError="error",u.CategoryAds="ads",u.MaxEventCount=500,u.MAX_ERROR_COUNT=10,u.countMap={},u.timestampMap={},u}(),n.GAEvents=u}(o||(o={})),function(e){var n,t,r,i,a;n=e.threading||(e.threading={}),t=e.logging.GALogger,r=e.state.GAState,i=e.events.GAEvents,a=function(){function e(){this.blocks=new n.PriorityQueue({compare:function(e,n){return e-n}}),this.id2TimedBlockMap={},e.startThread()}return e.createTimedBlock=function(e){void 0===e&&(e=0);var t=new Date;return t.setSeconds(t.getSeconds()+e),new n.TimedBlock(t)},e.performTaskOnGAThread=function(t,r){void 0===r&&(r=0);var i=new Date;i.setSeconds(i.getSeconds()+r);var a=new n.TimedBlock(i);a.block=t,e.instance.id2TimedBlockMap[a.id]=a,e.instance.addTimedBlock(a)},e.performTimedBlockOnGAThread=function(n){e.instance.id2TimedBlockMap[n.id]=n,e.instance.addTimedBlock(n)},e.scheduleTimer=function(t,r){var i=new Date;i.setSeconds(i.getSeconds()+t);var a=new n.TimedBlock(i);return a.block=r,e.instance.id2TimedBlockMap[a.id]=a,e.instance.addTimedBlock(a),a.id},e.getTimedBlockById=function(n){return n in e.instance.id2TimedBlockMap?e.instance.id2TimedBlockMap[n]:null},e.ensureEventQueueIsRunning=function(){e.instance.keepRunning=!0,e.instance.isRunning||(e.instance.isRunning=!0,e.scheduleTimer(e.ProcessEventsIntervalInSeconds,e.processEventQueue))},e.endSessionAndStopQueue=function(){r.isInitialized()&&(t.i("Ending session."),e.stopEventQueue(),r.isEnabled()&&r.sessionIsStarted()&&(i.addSessionEndEvent(),r.instance.sessionStart=0))},e.stopEventQueue=function(){e.instance.keepRunning=!1},e.ignoreTimer=function(n){n in e.instance.id2TimedBlockMap&&(e.instance.id2TimedBlockMap[n].ignore=!0)},e.setEventProcessInterval=function(n){n>0&&(e.ProcessEventsIntervalInSeconds=n)},e.prototype.addTimedBlock=function(e){this.blocks.enqueue(e.deadline.getTime(),e)},e.run=function(){clearTimeout(e.runTimeoutId);try{for(var n;n=e.getNextBlock();)if(!n.ignore)if(n.async){if(!n.running){n.running=!0,n.block();break}}else n.block();return void(e.runTimeoutId=setTimeout(e.run,e.ThreadWaitTimeInMs))}catch(e){t.e("Error on GA thread"),t.e(e.stack)}},e.startThread=function(){e.runTimeoutId=setTimeout(e.run,0)},e.getNextBlock=function(){var n=new Date;return e.instance.blocks.hasItems()&&e.instance.blocks.peek().deadline.getTime()<=n.getTime()?e.instance.blocks.peek().async&&e.instance.blocks.peek().running?e.instance.blocks.peek():e.instance.blocks.dequeue():null},e.processEventQueue=function(){i.processEvents("",!0),e.instance.keepRunning?e.scheduleTimer(e.ProcessEventsIntervalInSeconds,e.processEventQueue):e.instance.isRunning=!1},e.instance=new e,e.ThreadWaitTimeInMs=1e3,e.ProcessEventsIntervalInSeconds=8,e}(),n.GAThreading=a}(o||(o={})),function(e){var n=e.threading.GAThreading,r=e.logging.GALogger,i=e.store.GAStore,a=e.state.GAState,o=e.http.GAHTTPApi,s=e.device.GADevice,d=e.validators.GAValidator,l=e.http.EGAHTTPApiResponse,c=e.utilities.GAUtilities,u=e.events.GAEvents,m=function(){function m(){}return m.getGlobalObject=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==t.g?t.g:void 0},m.init=function(){if(s.touch(),m.methodMap.configureAvailableCustomDimensions01=m.configureAvailableCustomDimensions01,m.methodMap.configureAvailableCustomDimensions02=m.configureAvailableCustomDimensions02,m.methodMap.configureAvailableCustomDimensions03=m.configureAvailableCustomDimensions03,m.methodMap.configureAvailableResourceCurrencies=m.configureAvailableResourceCurrencies,m.methodMap.configureAvailableResourceItemTypes=m.configureAvailableResourceItemTypes,m.methodMap.configureBuild=m.configureBuild,m.methodMap.configureSdkGameEngineVersion=m.configureSdkGameEngineVersion,m.methodMap.configureGameEngineVersion=m.configureGameEngineVersion,m.methodMap.configureUserId=m.configureUserId,m.methodMap.initialize=m.initialize,m.methodMap.addBusinessEvent=m.addBusinessEvent,m.methodMap.addResourceEvent=m.addResourceEvent,m.methodMap.addProgressionEvent=m.addProgressionEvent,m.methodMap.addDesignEvent=m.addDesignEvent,m.methodMap.addErrorEvent=m.addErrorEvent,m.methodMap.addAdEvent=m.addAdEvent,m.methodMap.setEnabledInfoLog=m.setEnabledInfoLog,m.methodMap.setEnabledVerboseLog=m.setEnabledVerboseLog,m.methodMap.setEnabledManualSessionHandling=m.setEnabledManualSessionHandling,m.methodMap.setEnabledEventSubmission=m.setEnabledEventSubmission,m.methodMap.setCustomDimension01=m.setCustomDimension01,m.methodMap.setCustomDimension02=m.setCustomDimension02,m.methodMap.setCustomDimension03=m.setCustomDimension03,m.methodMap.setGlobalCustomEventFields=m.setGlobalCustomEventFields,m.methodMap.setEventProcessInterval=m.setEventProcessInterval,m.methodMap.startSession=m.startSession,m.methodMap.endSession=m.endSession,m.methodMap.onStop=m.onStop,m.methodMap.onResume=m.onResume,m.methodMap.addRemoteConfigsListener=m.addRemoteConfigsListener,m.methodMap.removeRemoteConfigsListener=m.removeRemoteConfigsListener,m.methodMap.getRemoteConfigsValueAsString=m.getRemoteConfigsValueAsString,m.methodMap.isRemoteConfigsReady=m.isRemoteConfigsReady,m.methodMap.getRemoteConfigsContentAsString=m.getRemoteConfigsContentAsString,m.methodMap.addOnBeforeUnloadListener=m.addOnBeforeUnloadListener,m.methodMap.removeOnBeforeUnloadListener=m.removeOnBeforeUnloadListener,void 0!==m.getGlobalObject()&&void 0!==m.getGlobalObject().GameAnalytics&&void 0!==m.getGlobalObject().GameAnalytics.q){var e=m.getGlobalObject().GameAnalytics.q;for(var t in e)m.gaCommand.apply(null,e[t])}window.addEventListener("beforeunload",(function(e){console.log("addEventListener unload"),a.instance.isUnloading=!0,a.notifyBeforeUnloadListeners(),n.endSessionAndStopQueue(),a.instance.isUnloading=!1}))},m.gaCommand=function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];n.length>0&&n[0]in e.GameAnalytics.methodMap&&(n.length>1?e.GameAnalytics.methodMap[n[0]].apply(null,Array.prototype.slice.call(n,1)):e.GameAnalytics.methodMap[n[0]]())},m.configureAvailableCustomDimensions01=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)?r.w("Available custom dimensions must be set before SDK is initialized"):a.setAvailableCustomDimensions01(e)}))},m.configureAvailableCustomDimensions02=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)?r.w("Available custom dimensions must be set before SDK is initialized"):a.setAvailableCustomDimensions02(e)}))},m.configureAvailableCustomDimensions03=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)?r.w("Available custom dimensions must be set before SDK is initialized"):a.setAvailableCustomDimensions03(e)}))},m.configureAvailableResourceCurrencies=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)?r.w("Available resource currencies must be set before SDK is initialized"):a.setAvailableResourceCurrencies(e)}))},m.configureAvailableResourceItemTypes=function(e){void 0===e&&(e=[]),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)?r.w("Available resource item types must be set before SDK is initialized"):a.setAvailableResourceItemTypes(e)}))},m.configureBuild=function(e){void 0===e&&(e=""),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)?r.w("Build version must be set before SDK is initialized."):d.validateBuild(e)?a.setBuild(e):r.i("Validation fail - configure build: Cannot be null, empty or above 32 length. String: "+e)}))},m.configureSdkGameEngineVersion=function(e){void 0===e&&(e=""),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)||(d.validateSdkWrapperVersion(e)?s.sdkGameEngineVersion=e:r.i("Validation fail - configure sdk version: Sdk version not supported. String: "+e))}))},m.configureGameEngineVersion=function(e){void 0===e&&(e=""),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)||(d.validateEngineVersion(e)?s.gameEngineVersion=e:r.i("Validation fail - configure game engine version: Game engine version not supported. String: "+e))}))},m.configureUserId=function(e){void 0===e&&(e=""),n.performTaskOnGAThread((function(){m.isSdkReady(!0,!1)?r.w("A custom user id must be set before SDK is initialized."):d.validateUserId(e)?a.setUserId(e):r.i("Validation fail - configure user_id: Cannot be null, empty or above 64 length. Will use default user_id method. Used string: "+e)}))},m.initialize=function(e,t){void 0===e&&(e=""),void 0===t&&(t=""),s.updateConnectionType();var i=n.createTimedBlock();i.async=!0,m.initTimedBlockId=i.id,i.block=function(){m.isSdkReady(!0,!1)?r.w("SDK already initialized. Can only be called once."):d.validateKeys(e,t)?(a.setKeys(e,t),m.internalInitialize()):r.w("SDK failed initialize. Game key or secret key is invalid. Can only contain characters A-z 0-9, gameKey is 32 length, gameSecret is 40 length. Failed keys - gameKey: "+e+", secretKey: "+t)},n.performTimedBlockOnGAThread(i)},m.addBusinessEvent=function(e,t,r,i,o,d,l){if(void 0===e&&(e=""),void 0===t&&(t=0),void 0===r&&(r=""),void 0===i&&(i=""),void 0===o&&(o=""),void 0===d&&(d={}),void 0===l&&(l=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add business event"))return;u.addBusinessEvent(e,t,r,i,o,d,l)}else n.performTaskOnGAThread((function(){m.isSdkReady(!0,!0,"Could not add business event")&&u.addBusinessEvent(e,t,r,i,o,d,l)}))},m.addResourceEvent=function(t,r,i,o,d,l,c){if(void 0===t&&(t=e.EGAResourceFlowType.Undefined),void 0===r&&(r=""),void 0===i&&(i=0),void 0===o&&(o=""),void 0===d&&(d=""),void 0===l&&(l={}),void 0===c&&(c=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add resource event"))return;u.addResourceEvent(t,r,i,o,d,l,c)}else n.performTaskOnGAThread((function(){m.isSdkReady(!0,!0,"Could not add resource event")&&u.addResourceEvent(t,r,i,o,d,l,c)}))},m.addProgressionEvent=function(t,r,i,o,d,l,c){if(void 0===t&&(t=e.EGAProgressionStatus.Undefined),void 0===r&&(r=""),void 0===i&&(i=""),void 0===o&&(o=""),void 0===l&&(l={}),void 0===c&&(c=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add progression event"))return;var g="number"==typeof d;u.addProgressionEvent(t,r,i,o,g?d:0,g,l,c)}else n.performTaskOnGAThread((function(){if(m.isSdkReady(!0,!0,"Could not add progression event")){var e="number"==typeof d;u.addProgressionEvent(t,r,i,o,e?d:0,e,l,c)}}))},m.addDesignEvent=function(e,t,r,i){if(void 0===r&&(r={}),void 0===i&&(i=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add design event"))return;var o="number"==typeof t;u.addDesignEvent(e,o?t:0,o,r,i)}else n.performTaskOnGAThread((function(){if(m.isSdkReady(!0,!0,"Could not add design event")){var n="number"==typeof t;u.addDesignEvent(e,n?t:0,n,r,i)}}))},m.addErrorEvent=function(t,r,i,o){if(void 0===t&&(t=e.EGAErrorSeverity.Undefined),void 0===r&&(r=""),void 0===i&&(i={}),void 0===o&&(o=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add error event"))return;u.addErrorEvent(t,r,i,o)}else n.performTaskOnGAThread((function(){m.isSdkReady(!0,!0,"Could not add error event")&&u.addErrorEvent(t,r,i,o)}))},m.addAdEventWithNoAdReason=function(t,r,i,o,d,l,c){if(void 0===t&&(t=e.EGAAdAction.Undefined),void 0===r&&(r=e.EGAAdType.Undefined),void 0===i&&(i=""),void 0===o&&(o=""),void 0===d&&(d=e.EGAAdError.Undefined),void 0===l&&(l={}),void 0===c&&(c=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add ad event"))return;u.addAdEvent(t,r,i,o,d,0,!1,l,c)}else n.performTaskOnGAThread((function(){m.isSdkReady(!0,!0,"Could not add ad event")&&u.addAdEvent(t,r,i,o,d,0,!1,l,c)}))},m.addAdEventWithDuration=function(t,r,i,o,d,l,c){if(void 0===t&&(t=e.EGAAdAction.Undefined),void 0===r&&(r=e.EGAAdType.Undefined),void 0===i&&(i=""),void 0===o&&(o=""),void 0===d&&(d=0),void 0===l&&(l={}),void 0===c&&(c=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add ad event"))return;u.addAdEvent(t,r,i,o,e.EGAAdError.Undefined,d,!0,l,c)}else n.performTaskOnGAThread((function(){m.isSdkReady(!0,!0,"Could not add ad event")&&u.addAdEvent(t,r,i,o,e.EGAAdError.Undefined,d,!0,l,c)}))},m.addAdEvent=function(t,r,i,o,d,l){if(void 0===t&&(t=e.EGAAdAction.Undefined),void 0===r&&(r=e.EGAAdType.Undefined),void 0===i&&(i=""),void 0===o&&(o=""),void 0===d&&(d={}),void 0===l&&(l=!1),s.updateConnectionType(),a.instance.isUnloading){if(!m.isSdkReady(!0,!0,"Could not add ad event"))return;u.addAdEvent(t,r,i,o,e.EGAAdError.Undefined,0,!1,d,l)}else n.performTaskOnGAThread((function(){m.isSdkReady(!0,!0,"Could not add ad event")&&u.addAdEvent(t,r,i,o,e.EGAAdError.Undefined,0,!1,d,l)}))},m.setEnabledInfoLog=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread((function(){e?(r.setInfoLog(e),r.i("Info logging enabled")):(r.i("Info logging disabled"),r.setInfoLog(e))}))},m.setEnabledVerboseLog=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread((function(){e?(r.setVerboseLog(e),r.i("Verbose logging enabled")):(r.i("Verbose logging disabled"),r.setVerboseLog(e))}))},m.setEnabledManualSessionHandling=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread((function(){a.setManualSessionHandling(e)}))},m.setEnabledEventSubmission=function(e){void 0===e&&(e=!1),n.performTaskOnGAThread((function(){e?(a.setEnabledEventSubmission(e),r.i("Event submission enabled")):(r.i("Event submission disabled"),a.setEnabledEventSubmission(e))}))},m.setCustomDimension01=function(e){void 0===e&&(e=""),n.performTaskOnGAThread((function(){d.validateDimension01(e,a.getAvailableCustomDimensions01())?a.setCustomDimension01(e):r.w("Could not set custom01 dimension value to '"+e+"'. Value not found in available custom01 dimension values")}))},m.setCustomDimension02=function(e){void 0===e&&(e=""),n.performTaskOnGAThread((function(){d.validateDimension02(e,a.getAvailableCustomDimensions02())?a.setCustomDimension02(e):r.w("Could not set custom02 dimension value to '"+e+"'. Value not found in available custom02 dimension values")}))},m.setCustomDimension03=function(e){void 0===e&&(e=""),n.performTaskOnGAThread((function(){d.validateDimension03(e,a.getAvailableCustomDimensions03())?a.setCustomDimension03(e):r.w("Could not set custom03 dimension value to '"+e+"'. Value not found in available custom03 dimension values")}))},m.setGlobalCustomEventFields=function(e){void 0===e&&(e={}),n.performTaskOnGAThread((function(){r.i("Set global custom event fields: "+JSON.stringify(e)),a.instance.currentGlobalCustomEventFields=e}))},m.setEventProcessInterval=function(e){n.performTaskOnGAThread((function(){n.setEventProcessInterval(e)}))},m.startSession=function(){if(a.isInitialized()){var e=n.createTimedBlock();e.async=!0,m.initTimedBlockId=e.id,e.block=function(){a.isEnabled()&&a.sessionIsStarted()&&n.endSessionAndStopQueue(),m.resumeSessionAndStartQueue()},n.performTimedBlockOnGAThread(e)}},m.endSession=function(){m.onStop()},m.onStop=function(){n.performTaskOnGAThread((function(){try{n.endSessionAndStopQueue()}catch(e){}}))},m.onResume=function(){var e=n.createTimedBlock();e.async=!0,m.initTimedBlockId=e.id,e.block=function(){m.resumeSessionAndStartQueue()},n.performTimedBlockOnGAThread(e)},m.getRemoteConfigsValueAsString=function(e,n){return void 0===n&&(n=null),a.getConfigurationStringValue(e,n)},m.isRemoteConfigsReady=function(){return a.isRemoteConfigsReady()},m.addRemoteConfigsListener=function(e){a.addRemoteConfigsListener(e)},m.removeRemoteConfigsListener=function(e){a.removeRemoteConfigsListener(e)},m.getRemoteConfigsContentAsString=function(){return a.getRemoteConfigsContentAsString()},m.getABTestingId=function(){return a.getABTestingId()},m.getABTestingVariantId=function(){return a.getABTestingVariantId()},m.addOnBeforeUnloadListener=function(e){a.addOnBeforeUnloadListener(e)},m.removeOnBeforeUnloadListener=function(e){a.removeOnBeforeUnloadListener(e)},m.internalInitialize=function(){a.ensurePersistedStates(),i.setItem(a.getGameKey(),a.DefaultUserIdKey,a.getDefaultId()),a.setInitialized(!0),m.newSession(),a.isEnabled()&&n.ensureEventQueueIsRunning()},m.newSession=function(){r.i("Starting a new session."),a.validateAndFixCurrentDimensions(),o.instance.requestInit(a.instance.configsHash,m.startNewSessionCallback)},m.startNewSessionCallback=function(e,t){if(e!==l.Ok&&e!==l.Created||!t)e==l.Unauthorized?(r.w("Initialize SDK failed - Unauthorized"),a.instance.initAuthorized=!1):(e===l.NoResponse||e===l.RequestTimeout?r.i("Init call (session start) failed - no response. Could be offline or timeout."):e===l.BadResponse||e===l.JsonEncodeFailed||e===l.JsonDecodeFailed?r.i("Init call (session start) failed - bad response. Could be bad response from proxy or GA servers."):e!==l.BadRequest&&e!==l.UnknownResponseCode||r.i("Init call (session start) failed - bad request or unknown response."),null==a.instance.sdkConfig?null!=a.instance.sdkConfigCached?(r.i("Init call (session start) failed - using cached init values."),a.instance.sdkConfig=a.instance.sdkConfigCached):(r.i("Init call (session start) failed - using default init values."),a.instance.sdkConfig=a.instance.sdkConfigDefault):r.i("Init call (session start) failed - using cached init values."),a.instance.initAuthorized=!0);else{var o=0;if(t.server_ts){var s=t.server_ts;o=a.calculateServerTimeOffset(s)}if(t.time_offset=o,e!=l.Created){var d=a.getSdkConfig();d.configs&&(t.configs=d.configs),d.configs_hash&&(t.configs_hash=d.configs_hash),d.ab_id&&(t.ab_id=d.ab_id),d.ab_variant_id&&(t.ab_variant_id=d.ab_variant_id)}a.instance.configsHash=t.configs_hash?t.configs_hash:"",a.instance.abId=t.ab_id?t.ab_id:"",a.instance.abVariantId=t.ab_variant_id?t.ab_variant_id:"",i.setItem(a.getGameKey(),a.SdkConfigCachedKey,c.encode64(JSON.stringify(t))),a.instance.sdkConfigCached=t,a.instance.sdkConfig=t,a.instance.initAuthorized=!0}if(a.instance.clientServerTimeOffset=a.getSdkConfig().time_offset?a.getSdkConfig().time_offset:0,a.populateConfigurations(a.getSdkConfig()),!a.isEnabled())return r.w("Could not start session: SDK is disabled."),void n.stopEventQueue();n.ensureEventQueueIsRunning();var g=c.createGuid();a.instance.sessionId=g,a.instance.sessionStart=a.getClientTsAdjusted(),u.addSessionStartEvent();var f=n.getTimedBlockById(m.initTimedBlockId);null!=f&&(f.running=!1),m.initTimedBlockId=-1},m.resumeSessionAndStartQueue=function(){a.isInitialized()&&(r.i("Resuming session."),a.sessionIsStarted()||m.newSession())},m.isSdkReady=function(e,n,t){return void 0===n&&(n=!0),void 0===t&&(t=""),t&&(t+=": "),e&&!a.isInitialized()?(n&&r.w(t+"SDK is not initialized"),!1):e&&!a.isEnabled()?(n&&r.w(t+"SDK is disabled"),!1):!(e&&!a.sessionIsStarted()&&(n&&r.w(t+"Session has not started yet"),1))},m.initTimedBlockId=-1,m.methodMap={},m}();e.GameAnalytics=m}(o||(o={})),o.GameAnalytics.init(),o.GameAnalytics.gaCommand,e.exports=o},379:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var a={},o=[],s=0;s<e.length;s++){var d=e[s],l=r.base?d[0]+r.base:d[0],c=a[l]||0,u="".concat(l," ").concat(c);a[l]=c+1;var m=t(u),g={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(-1!==m)n[m].references++,n[m].updater(g);else{var f=i(g,r);r.byIndex=s,n.splice(s,0,{identifier:u,updater:f,references:1})}o.push(u)}return o}function i(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,i){var a=r(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<a.length;o++){var s=t(a[o]);n[s].references--}for(var d=r(e,i),l=0;l<a.length;l++){var c=t(a[l]);0===n[c].references&&(n[c].updater(),n.splice(c,1))}a=d}}},569:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},216:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},565:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},795:e=>{e.exports=function(e){var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var i=void 0!==t.layer;i&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,i&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},589:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(r){var i=n[r];if(void 0!==i)return i.exports;var a=n[r]={id:r,exports:{}};return e[r](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nc=void 0;var r={};return(()=>{t.r(r);var e={apiBaseUrl:"https://api.baziigram.com/api/",baseUrl:"https://games.baziigram.com/SDK/",tracker:{"g-29":{gk:"c9fca617f9de6ee07e5bbd2cc3ba2403",sk:"bc817c67af7a2adc2f4a63e8083bb87cd1c7a27f"},"g-26":{gk:"f2e200899896d6a36d7759f2671b9c46",sk:"318b5ca178b6984d8e9f5ef39f18d53e6de77aff"},"g-22":{gk:"a80c0c49eff31475ab6637b12a1f24e8",sk:"ee68a61df047e25ac16fe870773c403df5cdc405"},"g-31":{gk:"7156b245b1ab72cc3454f75ec5b9b24a",sk:"088ea666588c03799eaf47f420cd13ada2744d3f"},"g-27":{gk:"d8b6cdde2a7003c7c15f7a73940d6569",sk:"f5a5eb7e67e3be93f579bb715f1bb823896f9912"},"g-32":{gk:"3151f8879b6b83d4d878dfa49c333a76",sk:"058f2712edaf0536e3d93ccdae1ec360a9eaaa4c"},"g-10":{gk:"879dbe50c223f8992ac30c8fc3cee3ef",sk:"3f6aa27ac829afa31f889a8b001e41bbe2a40a12"},"g-28":{gk:"ce27837a001852b32be2822c262b6502",sk:"5af922cde59f02886c12884f777fda0de38e1aec"},"g-7":{gk:"cd9f6a82edabfad59eae80dea472d47f",sk:"8502df9943b394d1233ebb34ef828cd6a58e189f"},"g-14":{gk:"1f05f91b028e892323e50da7105ae341",sk:"63edca2d609df9e8a8680a9566c1aa9dc89829ec"},"g-30":{gk:"337687dd6dbb2151e09bde55d4d51332",sk:"1b30da9a52352153de9395f59039595e23cfc01d"},"g-25":{gk:"da0b4047ebb302abbfb14ce1a17fe70d",sk:"8f96c24db7a19e4dbd05f3459554d25dc44e4f6a"},"g-24":{gk:"91b6fb37c386b074e3cad14face213bd",sk:"d922e72e04ebe436feab1122bf1abbf9a59685a3"},"g-23":{gk:"ca4359652cea556709cf4a92788ee731",sk:"8d75506875e92e84a0fe0be1f578c0a780f52333"},"g-21":{gk:"a4ffb5fc1f5232e8421f7b0cdd89f2ba",sk:"8b150c9046a9d9398c92ecb8b6b1e7aea82e9764"},"g-11":{gk:"c162be594029a8610c8e199adea3ed48",sk:"fd3633d9a9d3c15ff27915f02e1fd81a730ac4f9"},"g-8":{gk:"3e152bf95c6d8251ec62329e42b39439",sk:"082937a9eb1cb20df25217bf971c4eafdb811a2c"},"g-6":{gk:"42feb8af5de02f57b947558c4f455223",sk:"90829945bc5b49516bd04b8ef4db09c98d7e7cb4"},"g-34":{gk:"a5a15afda3f5d97d2ee9b42328dddd44",sk:"6202fbb99aa46d1ef81202f2fb18d1cd5b564505"},"g-35":{gk:"8f4515efa5aad2c1007aeb9033337ad3",sk:"6e9335b4a26c95e1b9eb58c68c1443d570a8d0ad"},"g-36":{gk:"51a625e7dbb0049f5752d82cc3ba7d8e",sk:"e0e6bb920ec06f9e36d92336c2cf09fcb6d76fb2"},"g-37":{gk:"72de6ca952ccb2abbf7fc4673ffbee56",sk:"7c076f3970f4d0de0093e8b09e368a7b557843de"},"g-38":{gk:"dc3906a41fa866c3a09b3bf12b410d20",sk:"3659722027b980b0ad751e874bdedfc8b3637e89"},"g-39":{gk:"9b02d043ab3b8866e2aefc09497e45c5",sk:"074f39a0722e1230ddb53398c6891fd7a9d6d27c"},"g-40":{gk:"59e49f314a08ba8a75b37e1f13c940f2",sk:"4527e1b73b6d332d4a5c3944ff45b165216f414d"},"g-41":{gk:"91a8274c43b1591b1bd953e6e6ca3cda",sk:"c7ac34d37db6e3a83be28d793405b68378f57806"},"g-42":{gk:"c23c268389a5d0fc092250b070aad3bb",sk:"7298501e0e1be5b65540b151137cefd6d18ac7e1"},"g-43":{gk:"93103891487a9213a0384834be7e743f",sk:"132e2c4adf71f1bb92acf0cfc492e9772f51d2a7"},"g-13":{gk:"c9152da1be9c40a67bbeeb21a18bab24",sk:"e14819756894dde527619fdf7af415108e393b3a"},"g-44":{gk:"9e76c4f0c4657a5a798e968634740ebe",sk:"0e7bc3927f9a3faeb62af916987abd3167cfd4cd"},"g-45":{gk:"719bc91cdc9f3d3f6e60b36cd9502a28",sk:"c01f16879333d39bcf1454830c6087944c81406e"},"g-46":{gk:"06ae9be28d5b4a1d79eac9612fda8b93",sk:"d0e3665d98bad71a8372ffe20a0a90be901791ab"},"g-47":{gk:"d0aa718e80f8bda5577ef7d30f440340",sk:"0d92b8bf273713f52ff16b6b3b344cb4e38ead4e"},"g-49":{gk:"6b3cb99f6d565106ea913576efcfd4d8",sk:"fed768292e52cfa487a76f10754fcb8a22d33938"},"g-50":{gk:"11849d33d16ebc2b708e91fe96daed2f",sk:"eced55f93c2aeafb5c9ba7e70eefde8968be95af"},"g-51":{gk:"0a944bc7fa1811d8dd4d4dcf798c4a47",sk:"ab63a089e87a8d298c94f97a5b3d56108a50b19f"}},apiUrls:{GameLog:"Market/v1/PlayingLog",UserLogin:"v1/User/Game/OTPRequest",UserVerify:"v1/User/Game/Game/RegisterVerify",EditProfile:"Market/v1/EditProfile",GetLeaderboard:"Market/v1/Leaderboard",CashBack:"CashBack",GetUserPrizes:"Market/v1/UserAwards",GetAwardsList:"Market/v1/AvailableAwards",GetPrize:"Market/v1/ConfirmAward",GetUserProfile:"Market/v1/UserProfile",GameAlternativeLog:"GameAlternativeLog",GameLevelLog:"Game/v1/LevelLog",RefreshToken:"v1/User/Game/RefreshToken"},excludingURLs:[],dictionary:{username:{fa:"  / ",en:"mobile number/Email"},name:{fa:" ",en:"username"},inputErr:{fa:"     ",en:" is not correct"},phoneNo:{fa:"  ",en:"mobile number"},error:{fa:"",en:"error"},profile:{fa:"",en:"profile"},leaderboard:{fa:" ",en:"heroes"},myPhoecoins:{fa:"  ",en:"My Phoecoins"},ok:{fa:"",en:"ok"},cancel:{fa:"",en:"cancel"},resend:{fa:"   ",en:"resend code"},otp:{fa:" ",en:"verification code"},insertOTP:{fa:"     ",en:"insert verification code"},getPrize:{fa:"  ",en:"get prize"},awardHistory:{fa:" ",en:"prize history"},login:{fa:"",en:"login"},share:{fa:" ",en:"share"},coin:{fa:"",en:"Phoecoins"},phoecoin:{fa:"",en:"Phoecoin"},discountCode:{fa:"  : ",en:"discount code : "},pinCharge:{fa:"  : ",en:"Charge pin : "},noAward:{fa:"       ",en:"You have not received any award yet"},expirationDate:{fa:"  : ",en:"expiration date : "},purchase:{fa:"",en:"purchase"},get:{fa:"",en:"get"},noRecord:{fa:"        ",en:"Nobody has played this game yet."},notEnoughCoin:{fa:"       ",en:"Your coins are not enough to get the prize."},noPrize:{fa:"       ",en:"You have not received an award yet"},nextLevel:{fa:"  ",en:"Next level"},shareTxt:{fa:"                     ...\r\n ",en:"I won my favorite prize by playing, come and play and win prizes with your coins...\r\n"},shateTitle:{fa:"   ",en:"play and win"},charge:{fa:"",en:"charge"}}};function n(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=String(e).length;return r<n?Array(n-r+1).join(t||"0")+e:e}function i(){var e=new Date,n=(e.getTime(),e.getTimezoneOffset());return new Date(e.getFullYear()+"-03-21").getTime(),new Date(e.getFullYear()+"-09-23").getTime(),-210==n?"fa":"en"}function a(e){var n=Math.min(Math.max(document.documentElement.clientWidth||0,window.innerWidth||0),900);return 8*e.length>Math.floor(.55*(n-40))?'<marquee behavior="scroll" scrollamount="2" direction="right">\n          '.concat(e,"\n        </marquee>"):e}function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function d(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function l(e,n,t){return(n=c(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){var n=function(e,n){if("object"!==o(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(n)?n:String(n)}var u=function(){function n(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};s(this,n),l(this,"closeEnd",(function(n){"hide-dialog"==n.animationName&&(e.dialog.classList.remove("hide-dialog"),e.dialog.removeEventListener("animationend",e.closeEnd),e.onclose(),window.isStopped=!1)})),this.dialog=document.getElementById("dialogContainer"),null==this.dialog&&this.addDialogNode(),this.onclose=t}var t,r;return t=n,r=[{key:"closeDialog",value:function(e){window.isStopped=!0,this.dialog.classList.add("hide-dialog"),this.dialog.classList.remove("show-dialog")}},{key:"showDialog",value:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";window.isStopped=!0;var t=document.getElementById("dialogContent");this.dialog.classList.remove("show-dialog"),"string"==typeof n?t.innerHTML=n:(t.innerHTML="",t.appendChild(n));var r=document.getElementById("closeBtn"),i=r.cloneNode(!0);r.parentNode.replaceChild(i,r),document.getElementById("closeBtn").addEventListener("click",(function(){e.closeDialog()})),this.dialog.addEventListener("animationend",this.closeEnd),this.dialog.classList.add("show-dialog")}},{key:"addDialogNode",value:function(){var n=i(),t=document.body,r=document.createElement("div");r.id="dialogContainer",r.style.display="none",r.setAttribute("lang",n),r.innerHTML='\n    <img  class="papiroos-top" src ="'.concat(e.baseUrl,'/images/papiroos-top.png"/>\n    <div class="papiroos-middle">\n\t\t\t<div class="w-100 text-left"><button id="closeBtn" class="close-btn"></button></div>\n            <div id="loading" style="display:none;" class="loader"></div>\n\t\t\t<div id="dialogContent" class="text-center mx-0 mb-0 px-2" style="overflow:auto;max-height:300px;margin-top:10px" >\n\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<img  class="papiroos-bottom" src ="').concat(e.baseUrl,'/images/papiroos-bottom.png"/>'),void 0!==document.body&&(t.appendChild(r),this.dialog=document.getElementById("dialogContainer"))}}],r&&d(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function m(e){return m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m(e)}function g(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function f(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==m(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==m(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===m(i)?i:String(i)),r)}var i}var p=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return!0},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"text",d=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"";g(this,n),this.placeHolder=e,this.value=t,this.maxLength=r,this.id=i,this.changeValue=a,this.validator=o,this.type=s,this.inputMode={number:"numeric",tel:"tel",text:"text"},this.isValid=!1,this.label=d}var t,r;return t=n,(r=[{key:"render",value:function(){var n=this,t=i(),r=document.createElement("input"),a=document.createElement("div"),o=document.createElement("div"),s=document.createElement("label");s.className="fa"==t?"right-label rtl text-right":"left-label ltr text-left",s.innerText=this.placeHolder;var d="fa"==t?"rtl text-right":"ltr text-left";return o.className="input-error-text ".concat(d),o.style.display="none",o.id="error-txt-".concat(this.id),o.innerText=this.label+" "+e.dictionary.inputErr[t],r.setAttribute("id",this.id),r.className="baziigram-input ".concat(d),r.setAttribute("type","text"),r.setAttribute("inputMode",this.inputMode[this.type]),r.setAttribute("autoSave","off"),r.setAttribute("autoCorrect","off"),r.setAttribute("autoCapitalize","off"),r.setAttribute("autocomplete","off"),r.setAttribute("maxlength",this.maxLength),r.setAttribute("placeholder"," "),r.setAttribute("value",this.value),r.addEventListener("focus",(function(e){n.onfocus(e)})),r.addEventListener("blur",(function(e){n.onblur(e)})),r.addEventListener("input",(function(e){n.onChange(e)})),a.className="input-container d-flex flex-column align-items-start",a.appendChild(r),a.appendChild(s),a.appendChild(o),a}},{key:"onfocus",value:function(e){if(void 0!==document.body){var n=e.target.parentNode.parentNode.parentNode;document.body.style.overflow="auto",n.scrollTop=e.target.offsetTop,document.getElementById("error-txt-"+this.id).style.display="none"}}},{key:"onChange",value:function(e){var n,t;this.value=(n=e.target.value,t={"":"0","":"0","":"1","":"1","":"2","":"2","":"3","":"3","":"4","":"4","":"5","":"5","":"6","":"6","":"7","":"7","":"8","":"8","":"9","":"9"},void 0===n||Object.keys(t).map((function(e){n=n.toString().replace(new RegExp(e,"g"),t[e])})),n),"number"!=this.type&&"tel"!=this.type||(this.value=(this.value||"").toString().replace(/\D/g,"")),this.changeValue(this.value),e.target.value=this.value}},{key:"onblur",value:function(e){if(void 0!==document.body){e.target;var n=e.target.parentNode.parentNode.parentNode;document.body.style.overflow="hidden",n.scrollTop=0,document.getElementById("error-txt-"+this.id).style.display="none",this.isValid=this.validator(this.value),this.isValid||(document.getElementById("error-txt-"+this.id).style.display="block")}}}])&&f(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function v(e){return 5==e.length}function b(e){return e.length>0}function h(e){return function(e){return 11==e.length&&"09"==e.substring(0,2)}(e)||function(e){return!(!e||e.length<5)&&/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}(e)}function y(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},a=i(),o=new u(r),s=document.createElement("div");s.classList.add("text-center"),s.innerHTML=n;var d=document.createElement("div");d.className="d-flex flex-row justify-content-between rtl";var l=document.createElement("button");l.className="ok-btn ml-2",l.innerText=e.dictionary.ok[a],l.addEventListener("click",t);var c=document.createElement("button");c.className="cancel-btn mr-2",c.innerText=e.dictionary.cancel[a],c.addEventListener("click",(function(){o.closeDialog()})),d.appendChild(l),d.appendChild(c),s.appendChild(d),o.showDialog(s)}function E(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=document.getElementById("loading");n.style.display=e?"block":"none"}function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function w(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function A(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,k(r.key),r)}}function x(e,n,t){return(n=k(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function k(e){var n=function(e,n){if("object"!==S(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===S(n)?n:String(n)}var C=function(){function n(t,r){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;w(this,n),x(this,"getUserAwards",(function(){i.APIService.get(null,e.apiUrls.GetUserPrizes,(function(n){var t="",r="fa"==i.state.language?"rtl text-right":"ltr text-left",a=document.getElementById("dialogContent");n.list.length>0?n.list.map((function(a,o){t+="<div class=' prize-item ".concat(o==n.list.length-1?"border-0":""," ").concat(r,"'>\n         <div class=\"").concat(r,' d-flex flex-row justify-content-start align-items-center">\n         <img class="prize-logo mx-2" src="').concat(a.logo,'" />\n         <div>\n         <div class="').concat(r,'">').concat(a.name,'</div>\n         <div class="').concat(r,' my-1 rtl">').concat(a.category==e.dictionary.charge[i.state.language]?e.dictionary.pinCharge[i.state.language]:e.dictionary.discountCode[i.state.language],"  ").concat(a.code,'</div>\n         <div class="').concat(r,' my-1 rtl">\n         ').concat(null!=a.expirationDate&&""!=a.expirationDate?e.dictionary.expirationDate[i.state.language]+a.expirationDate:"",'\n         </div>\n         <div class="').concat(r,'">').concat(a.description||"","</div>\n         </div>\n         </div>"),null!=a.link&&""!=a.link&&(t+="<button onclick=\"function a(){window.open('".concat(a.link,'\')}a();" class="w-100 ok-btn">').concat(e.dictionary.purchase[i.state.language],"</button>")),t+="</div>"})):t="<div>".concat(e.dictionary.noPrize[i.state.language],"</div>"),a.innerHTML=t}))})),x(this,"showOffers",(function(){i.dialog.showDialog(),i.getOffers()})),x(this,"getOffers",(function(){i.APIService.get(null,e.apiUrls.GetAwardsList,(function(n){var t="fa"==i.state.language?"rtl text-right":"ltr text-left",r=document.getElementById("dialogContent");n.list.length>0?n.list.map((function(o,s){var d=document.createElement("div");d.className="prize-item ".concat(s==n.list.length-1?"border-0":""," ").concat(t);var l=document.createElement("div");l.className="d-flex flex-row justify-content-between align-items-center",l.setAttribute("expand",!1),l.innerHTML='<div class="d-flex flex-row justify-content-start align-items-center '.concat(t,'">\n                        <img class="prize-logo mx-2" src="').concat(o.logo,'" />\n                        <div class="').concat(t,' ">').concat(o.name,'</div>\n                          </div>\n                          <div  class="arrow"></div>'),d.appendChild(l),l.lastChild.addEventListener("click",(function(e){i.expand(e,o)})),o.options.length>0&&o.options.map((function(n,r){var s=document.createElement("div");s.className="options d-flex flex-column justify-content-start my-2";var l=' <div  class="d-flex flex-row justify-content-between '.concat(t,' ">');l+=a(n.description),l+='<div  class="'.concat(t,' d-flex flex-row justify-content-end align-items-center mx-2 mb-2">\n                          <img class="mx-1" src="').concat(e.baseUrl,'/images/coin2.png" height="35px" width="35px" />\n                          <div class="text-center mx-1 ">').concat(n.requiredCoins,"</div>\n                          </div>\n                          </div>"),s.innerHTML=l,d.appendChild(s);var c=document.createElement("button");c.innerText=e.dictionary.get[i.state.language],c.className="ok-btn mx-0 mt-2 mb-0 w-100",c.addEventListener("click",(function(e){i.showConfirmDialog(o,n)})),s.appendChild(c)})),r.appendChild(d)})):r.innerHTML="<div>".concat(e.dictionary.notEnoughCoin[i.state.language],"</div>")}))})),x(this,"showConfirmDialog",(function(e,n){var t="   "+n.requiredCoins+"       ";"en"==i.state.language&&(t="Do you confirm conversion of "+n.requiredCoins+" Phoecoins to prize? "),y(t,(function(){i.getPrize(e,n)}),i.showOffers)})),x(this,"getPrize",(function(n,t){i.APIService.post({businessId:n.id,description:t.description},e.apiUrls.GetPrize,(function(t){var r="";r+='<div> <div class="d-flex flex-column justify-content-between align-items-center">\n             <img class="prize-logo mb-2" src="'.concat(n.logo,'" />\n            <div class="text-center my-1 rtl">').concat(t.award.category==e.dictionary.charge[i.state.language]?e.dictionary.pinCharge[i.state.language]:e.dictionary.discountCode[i.state.language],"  ").concat(t.award.code,"</div>"),t.award.expirationDate&&""!=t.award.expirationDate&&(r+='<div class="text-center my-1 rtl">'.concat(e.dictionary.expirationDate[i.state.language]+t.award.expirationDate,"</div>")),r+='<div class="text-center my-1">'.concat(t.award.description||"","</div> </div>"),null!=t.award.link&&""!=t.award.link&&(r+="<button onclick=\"function a(){window.open('".concat(t.award.link,'\')}a();" class="w-100 ok-btn">').concat(e.dictionary.purchase[i.state.language],"</button>")),r+="</div>",i.state.user.coins=t.userCoins,localStorage.setItem("user",JSON.stringify(i.state.user)),document.getElementById("dialogContent").innerHTML=r}))})),x(this,"expand",(function(e,n,t){var r=e.target.parentNode.getAttribute("expand");e.target.parentNode.setAttribute("expand","false"==r)})),this.state=t,this.APIService=r,this.profilePage=o,this.dialog=null!=o?new u((function(){return i.profilePage.showUserProfile(!1)})):new u}var t,r;return t=n,(r=[{key:"showUserAwards",value:function(){this.dialog.showDialog(),this.getUserAwards()}}])&&A(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function T(e){return T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T(e)}function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){_(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function P(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function _(e,n,t){return(n=O(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){var n=function(e,n){if("object"!==T(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===T(n)?n:String(n)}var R=function(){function n(t,r){var i=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),_(this,"onNameChange",(function(e){return i.name=e,e})),_(this,"showUserProfile",(function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];i.dialog.showDialog(),1==e?i.getProfile():i.renderContent()})),_(this,"getProfile",(function(){i.APIService.get(null,e.apiUrls.GetUserProfile,(function(e){e.user&&(i.name=e.user.name,i.logo=e.user.logo,i.state.setState({user:G(G({},i.state.user),e.user)}),i.renderContent())}))})),_(this,"renderContent",(function(){var n=document.getElementById("dialogContent"),t="fa"==i.state.language?"rtl":"ltr";n.style.direction="rtl";var r=document.createElement("div"),a=document.createElement("img");a.addEventListener("click",(function(e){i.showProfileImages()})),a.src="".concat(e.baseUrl,"/images/profileImages/").concat(i.logo||3,".png"),a.id="profileImg",a.className="profile-image",n.append(a);var o=new p(e.dictionary.name[i.state.language],i.name,30,"name",i.onNameChange,b,"text",e.dictionary.name[i.state.language]);n.append(o.render());var s=document.createElement("button");s.innerText=e.dictionary.awardHistory[i.state.language],s.className="ok-btn",s.addEventListener("click",(function(e){i.userAwardsPage.showUserAwards()}));var d=document.createElement("div");d.className="d-flex flex-row justify-content-center align-items-center",d.appendChild(s),r.innerHTML='\n                 <div class="d-flex flex-row justify-content-start align-items-center '.concat(t,'"><img src="').concat(e.baseUrl,'/images/coin2.png" height="40px" width="40px" />\n                 <div class="text-center mx-2">').concat(e.dictionary.myPhoecoins[i.state.language]," : ").concat(i.state.user.coins,"</div>\n                 </div>\n                  "),n.append(r),n.append(d),i.dialog.onclose=function(){return i.closeUserProfile()}})),this.name=t.user.name||"",this.logo=t.user.logo||3,this.state=t,this.APIService=r,this.dialog=new u(this.closeUserProfile),this.userAwardsPage=new C(t,r,this)}var t,r;return t=n,(r=[{key:"showProfileImages",value:function(){var n=this,t=document.createElement("div");[1,3,4,5,6,7,8,9,10,11,12].map((function(r){var i=document.createElement("img");i.className="profile-image-options",i.src="".concat(e.baseUrl,"/images/profileImages/").concat(r,".png"),i.addEventListener("click",(function(e){n.selectImage(r)})),t.appendChild(i)})),this.dialog.onclose=function(){return n.showUserProfile(!1)},this.dialog.showDialog(t)}},{key:"selectImage",value:function(n){this.logo=parseInt(n),document.getElementById("profileLogo").src=e.baseUrl+"/images/profileImages/"+n+".png",this.closeProfileSubMenu()}},{key:"closeUserProfile",value:function(e){var n=this.state.user;(null==n||this.name!=n.name&&this.name.length>0||this.logo!=n.logo)&&this.updateProfile()}},{key:"updateProfile",value:function(){var n=this,t=this.state.user,r={name:this.name,logo:this.logo};this.APIService.patch(r,e.apiUrls.EditProfile,(function(){t.name=name,t.logo=logo,n.state.setState({user:t}),localStorage.setItem("user",JSON.stringify(t))}))}},{key:"closeProfileSubMenu",value:function(){var e=this;this.dialog.onclose=function(){return e.showUserProfile(!1)},this.dialog.closeDialog()}}])&&P(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function D(e){return D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D(e)}function L(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==D(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===D(i)?i:String(i)),r)}var i}var z=function(){function n(e,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.state=e,this.APIService=t,this.dialog=new u}var t,r;return t=n,(r=[{key:"showLeaderBoard",value:function(){this.dialog.showDialog(),this.getLeaderboard()}},{key:"getLeaderboard",value:function(){var n=this,t={gameId:this.state.gameId};this.APIService.get(t,e.apiUrls.GetLeaderboard,(function(t){var r="fa"==n.state.language?"rtl text-right":"ltr text-left",i="",a=document.getElementById("dialogContent");t.list.length>0?t.list.map((function(n,t){var a="logo-container ";i+=' <div  class="'.concat(r,' d-flex flex-row justify-content-between align-items-center px-2 prize-item">'),t<3&&(a+=0==t?"gold":1==t?"silver":"bronze"),i+='<div class="'.concat(a,'"><img class="leader-board-logo ').concat(t>2?"small-logo":"",'" src="').concat(e.baseUrl,"images/profileImages/").concat(n.logo,'.png" /></div>\n                                   <div style="max-width:30%;overflow-x:hidden;" class="text-right">').concat(n.name,'</div>\n                                  <div class="text-right">').concat(n.score,"</div>\n                                  </div>")})):i='<div class="my-2">'.concat(e.dictionary.noRecord[n.state.language],"</div>"),a.innerHTML=i}))}}])&&L(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function M(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==U(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==U(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===U(i)?i:String(i)),r)}var i}var N=function(){function n(e,t){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.state=e,this.profilePage=new R(e,t),this.leaderboardPage=new z(e,t),this.dialog=new u(this.closeUserProfile),this.userAwardsPage=new C(e,t,this),this.addMenu(),this.APIService=t}var t,r;return t=n,(r=[{key:"addMenu",value:function(){var e=this,n=document.createElement("div");n.id="baziigramMenu";var t=document.createElement("img");t.src="https://games.baziigram.com/SDK/images/menu-2.png",t.className="baziigram-menu-icon",t.id="menu";var r=document.body;void 0!==r&&(n.addEventListener("click",this.showMenu),n.appendChild(t),n.appendChild(this.addProfile()),n.appendChild(this.addLeaderboard()),n.appendChild(this.addAwards()),window.showUserProfile=function(){e.profilePage.showUserProfile()},window.showLeaderBoard=function(){e.leaderboardPage.showLeaderBoard()},window.showAvailableAwards=function(){e.userAwardsPage.showOffers()},r.appendChild(n))}},{key:"showMenu",value:function(e){"menu"==e.target.id&&(e.target.classList.contains("show-menu")?e.target.classList.remove("show-menu"):e.target.classList.add("show-menu"))}},{key:"addProfile",value:function(){var n=this,t=document.createElement("button");return t.setAttribute("lang",this.state.language),t.id="profileMenu",t.addEventListener("click",(function(){document.getElementsByClassName("baziigram-menu-icon")[0].classList.remove("show-menu"),n.profilePage.showUserProfile()})),t.innerHTML='<img id="profileLogo" width="90%" style="display:block;" class="mx-auto" src="'.concat(e.baseUrl,"images/profileImages/").concat(this.state.user.logo,'.png">'),t}},{key:"addLeaderboard",value:function(){var e=this,n=document.createElement("button");return n.setAttribute("lang",this.state.language),n.id="leaderboardMenu",n.addEventListener("click",(function(){document.getElementsByClassName("baziigram-menu-icon")[0].classList.remove("show-menu"),e.leaderboardPage.showLeaderBoard()})),n}},{key:"addAwards",value:function(){var e=this,n=document.createElement("button");return n.setAttribute("lang",this.state.language),n.id="AwardsMenu",n.addEventListener("click",(function(){document.getElementsByClassName("baziigram-menu-icon")[0].classList.remove("show-menu"),e.userAwardsPage.showOffers()})),n}}])&&M(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}();function B(e){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B(e)}function F(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,i=function(e,n){if("object"!==B(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==B(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===B(i)?i:String(i)),r)}var i}var V=function(){function n(e){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.state=e}var t,r;return t=n,(r=[{key:"addTimer",value:function(){var n=document.body;if(this.state.moduleSettings.timer&&void 0!==n){var t=document.createElement("div");t.classList.add("timer"),t.setAttribute("lang",this.state.language),t.innerHTML='<div class="d-flex flex-row justify-content-end ">\n                                           <div class="mx-1 flex-fill" id=\''.concat(this.state.moduleSettings.timer.id,'\'></div>\n                                           <img style="margin:auto auto auto 4px;" src="').concat(e.baseUrl,'/images/timer.png" height="25px"/>\n                                         </div>'),n.appendChild(t)}}},{key:"addPoint",value:function(){var n=document.body;if(this.state.moduleSettings.point&&void 0!==n){var t=document.createElement("div");t.classList.add("point"),t.setAttribute("lang",this.state.language),t.innerHTML=' <div class="d-flex flex-row justify-content-end ">\n                                          <div class="mx-1 flex-fill" id=\''.concat(this.state.moduleSettings.point.id,'\'></div>\n                                           <img style="margin:auto 4px auto auto;" src="').concat(e.baseUrl,'/images/star5.png" height="25px"/>\n                                           </div>'),n.appendChild(t)}}}])&&F(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),j=t(379),K=t.n(j),H=t(795),q=t.n(H),J=t(569),Z=t.n(J),W=t(565),Q=t.n(W),Y=t(216),X=t.n(Y),$=t(589),ee=t.n($),ne=t(924),te={};te.styleTagTransform=ee(),te.setAttributes=Q(),te.insert=Z().bind(null,"head"),te.domAPI=q(),te.insertStyleElement=X(),K()(ne.Z,te),ne.Z&&ne.Z.locals&&ne.Z.locals;var re=t(433),ie={};ie.styleTagTransform=ee(),ie.setAttributes=Q(),ie.insert=Z().bind(null,"head"),ie.domAPI=q(),ie.insertStyleElement=X(),K()(re.Z,ie),re.Z&&re.Z.locals&&re.Z.locals;var ae=t(327),oe={};function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function de(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,le(r.key),r)}}function le(e){var n=function(e,n){if("object"!==se(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===se(n)?n:String(n)}oe.styleTagTransform=ee(),oe.setAttributes=Q(),oe.insert=Z().bind(null,"head"),oe.domAPI=q(),oe.insertStyleElement=X(),K()(ae.Z,oe),ae.Z&&ae.Z.locals&&ae.Z.locals;var ce=function(){function e(){var n,t,r,i=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),n=this,r=function(e){Object.keys(e).map((function(n){i[n]=e[n]}))},(t=le(t="setState"))in n?Object.defineProperty(n,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[t]=r,this.user=null,this.l=3,this.moduleSettings=null,this.score=0,this.startTime=0,this.endTime=0,this.counter=0,this.language="en"}var n,t;return n=e,(t=[{key:"resetState",value:function(){this.score=0,this.startTime=0,this.endTime=0}}])&&de(n.prototype,t),Object.defineProperty(n,"prototype",{writable:!1}),e}();function ue(e){return ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue(e)}function me(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fe(r.key),r)}}function ge(e,n,t){return(n=fe(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function fe(e){var n=function(e,n){if("object"!==ue(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==ue(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ue(n)?n:String(n)}var pe=function(){function t(n,r){var i=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),ge(this,"changeValue",(function(e,n){return i[e]=n,n})),ge(this,"verifyUser",(function(){if(0!=v(i.otp)){var n={userName:i.userName,oTP:i.otp};i.APIService.post(n,e.apiUrls.UserVerify,(function(e){i.state.setState({user:e}),localStorage.setItem("user",JSON.stringify(i.state.user)),window.top.postMessage(i.state.user,"https://baziigram.com"),i.state.setState({startTime:(new Date).getTime()}),i.clearIntervals(),i.baziigramTime=120,i.APIService.queue.length>0?(document.getElementById("dialogContent").innerHTML="",setTimeout((function(){var e=i.APIService.queue[i.APIService.queue.length-1];e.api(e.arguments.body,e.arguments.url,e.arguments.cb)}),1e3)):(i.dialog.closeDialog(),i.state.moduleSettings.help.startAction())}))}})),ge(this,"loginOrRegister",(function(){0!=h(i.userName)&&i.signeInService(i.userName)})),ge(this,"clearIntervals",(function(){for(var e=0;e<=i.baziigramIv;e++)clearInterval(e)})),this.state=n,this.APIService=r,this.dialog=new u(this.closeLoginDialog),this.userName="",this.otp="",this.name="",this.needRegister=!1,this.baziigramTime=120,this.baziigramIv=null}var r,i;return r=t,(i=[{key:"showLoginNode",value:function(){this.dialog.closeDialog();var e=this.renderLoginNode();this.dialog.showDialog(e)}},{key:"renderLoginNode",value:function(){var n=this,t=document.createElement("div"),r=new p(e.dictionary.username[this.state.language],"",50,"userName",(function(e){return n.changeValue("userName",e)}),h,"text",e.dictionary.username[this.state.language]),i=new p(e.dictionary.name[this.state.language],"",30,"name",(function(e){return n.changeValue("name",e)}),b,"text",e.dictionary.name[this.state.language]),a=document.createElement("div");0==this.needRegister&&(a.style.display="none"),a.id="register",a.appendChild(i.render()),t.appendChild(a),t.appendChild(r.render());var o=document.createElement("button");return o.classList.add("ok-btn"),o.addEventListener("click",this.loginOrRegister),o.innerText=e.dictionary.ok[this.state.language],t.appendChild(o),t}},{key:"showVerificationNode",value:function(){var n=this,t=document.createElement("div"),r=new p(e.dictionary.otp[this.state.language],"",5,"otp",(function(e){return n.changeValue("otp",e)}),v,"tel",e.dictionary.otp[this.state.language]),i=document.createElement("div");i.innerHTML="".concat(e.dictionary.insertOTP[this.state.language],' <div id="verificationTimer" style="color:red;" class="text-center my-3 rtl" ></div>'),t.appendChild(i),t.appendChild(r.render());var a=document.createElement("button");a.classList.add("ok-btn"),a.id="verify",a.addEventListener("click",this.verifyUser),a.innerText=e.dictionary.ok[this.state.language],t.appendChild(a);var o=document.createElement("button");o.classList.add("ok-btn"),o.style.display="none",o.id="resend-otp",o.addEventListener("click",this.loginOrRegister),o.innerText=e.dictionary.resend[this.state.language],t.appendChild(o),this.dialog.closeDialog(),this.dialog.showDialog(t)}},{key:"signeInService",value:function(n){var t=this,r={userName:n};this.APIService.post(r,e.apiUrls.UserLogin,(function(e){return t.showTimer()}))}},{key:"showTimer",value:function(){var e=this;this.showVerificationNode(),this.baziigramTime=120,this.baziigramIv=setInterval((function(){var t=document.getElementById("verificationTimer");e.baziigramTime>0?(e.baziigramTime-=1,t.innerHTML="".concat(parseInt(n(e.baziigramTime%60,2))," : ").concat(parseInt(n(e.baziigramTime/60,2)))):(t.innerHTML="",document.getElementById("verify").style.display="none",document.getElementById("resend-otp").style.display="block",e.clearIntervals(),e.baziigramTime=120)}),1e3)}}])&&me(r.prototype,i),Object.defineProperty(r,"prototype",{writable:!1}),t}();function ve(e){return ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ve(e)}function be(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function he(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?be(Object(t),!0).forEach((function(n){Se(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):be(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ye(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,we(r.key),r)}}function Ee(e,n,t){return n&&ye(e.prototype,n),t&&ye(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Se(e,n,t){return(n=we(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function we(e){var n=function(e,n){if("object"!==ve(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ve(n)?n:String(n)}var Ae=Ee((function n(t){var r=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),Se(this,"get",(function(n,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};E(!0),fetch(e.apiBaseUrl+t+r.createQueryString(n),{method:"GET",headers:{Authorization:"Bearer "+r.state.user.accessToken,Language:r.language}}).then((function(a){if(E(!1),a)switch(a.status){case 401:return void(-1==e.excludingURLs.indexOf(t)&&r.unAthorizationHandler({api:r.get,arguments:{body:n,url:t,cb:i}}));case 204:return void i();case 200:case 400:return r.parseResponse(a,i);default:return}})).catch((function(e){E(!1);var n='<p class="text-center text-danger m-2">'.concat(e.message||e,"</p>");return r.dialog.showDialog(n)}))})),Se(this,"post",(function(n,t,i){E(!0),fetch(e.apiBaseUrl+t,{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.state.user.accessToken,Language:r.language},body:JSON.stringify(n)}).then((function(a){if(E(!1),a)switch(a.status){case 401:return void(-1==e.excludingURLs.indexOf(t)&&r.unAthorizationHandler({api:r.post,arguments:{body:n,url:t,cb:i}}));case 204:return void i();case 200:case 400:return r.parseResponse(a,i);default:return}})).catch((function(e){E(!1);var n='<p class="text-center text-danger m-2">'.concat(e.message||e,"</p>");return r.dialog.showDialog(n)}))})),Se(this,"patch",(function(n,t,i){E(!0),fetch(e.apiBaseUrl+t,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:"Bearer "+r.state.user.accessToken,Language:r.language},body:JSON.stringify(n)}).then((function(a){if(E(!1),a)switch(a.status){case 401:return void(-1==e.excludingURLs.indexOf(t)&&r.unAthorizationHandler({api:r.patch,arguments:{body:n,url:t,cb:i}}));case 204:return void i();case 200:case 400:return r.parseResponse(a,i);default:return}})).catch((function(e){E(!1);var n='<p class="text-center text-danger m-2">'.concat(e.message||e,"</p>");return r.dialog.showDialog(n)}))})),Se(this,"createQueryString",(function(e){if(null!=e&&null!=e&&Object.keys(e).length>0){var n="?";return Object.keys(e).map((function(t,r){null!=e[t]&&(n+=t+"="+e[t],r<Object.keys(e).length-1&&(n+="&"))})),n}return""})),Se(this,"unAthorizationHandler",(function(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;null!=n&&r.queue.push(n),t<3&&r.state.user.refreshToken?r.post({RefreshToken:r.state.user.refreshToken},e.apiUrls.RefreshToken,(function(e){if(200==e.status||200==e.code){var n=he(he({},r.state.user),{accessToken:e.accessToken,refreshToken:e.refreshToken});r.state.setState({user:n}),localStorage.setItem("user",JSON.stringify(n)),window.top.postMessage(r.state.user,"https://baziigram.com"),r.queue.length>0&&(document.getElementById("dialogContent").innerHTML="",setTimeout((function(){var e=r.queue[r.queue.length-1];e.api(e.arguments.body,e.arguments.url,e.arguments.cb)}),i))}else{if(200!=e.status&&t<3)return setTimeout((function(){return r.unAthorizationHandler(null,t+1)}),i);r.login.showLoginNode()}})):r.login.showLoginNode()})),Se(this,"parseResponse",(function(e,n){e.json().then((function(e){if(400==e.code&&e.message){var t='<p class="text-center text-danger m-2">'.concat(e.message,"</p>");return r.dialog.showDialog(t)}return n(e)})).catch((function(e){E(!1);var n='<p class="text-center text-danger m-2">'.concat(e.message||e,"</p>");return r.dialog.showDialog(n)}))})),this.queue=[],this.language=i(),this.state=t,this.login=new pe(t,this),this.dialog=new u})),xe=t(806);function ke(e){return ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ke(e)}function Ce(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Te(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Ce(Object(t),!0).forEach((function(n){Ge(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Ce(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Ie(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pe(r.key),r)}}function Ge(e,n,t){return(n=Pe(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Pe(e){var n=function(e,n){if("object"!==ke(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,"string");if("object"!==ke(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ke(n)?n:String(n)}var _e=function(){function n(t,r){var i=this;!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),Ge(this,"service",(function(n,t){var r={gameId:i.state.gameId,duration:t,score:i.state.score};i.request={body:r,url:e.apiUrls.GameLog},i.APIService.post(r,e.apiUrls.GameLog,(function(e){return i.showGameOverResult(e)}))})),Ge(this,"recordAlternativeLog",(function(n,t,r){var a={gameId:i.state.gameId,duration:t,data:n,superGameId:48};i.request={body:a,url:e.apiUrls.GameAlternativeLog},i.APIService.post(a,e.apiUrls.GameAlternativeLog,(function(e){e.user&&(i.state.setState({user:Te(Te({},i.state.user),i.data.user)}),localStorage.setItem("user",JSON.stringify(i.state.user)),window.top.postMessage(state.user,"https://baziigram.com")),r(e)}))})),Ge(this,"recordGameLevelLog",(function(n,t){var r={gameId:i.state.gameId,duration:t,score:i.state.score,superGameId:46};i.request={body:r,url:e.apiUrls.GameLevelLog},i.APIService.post(r,e.apiUrls.GameLevelLog,(function(e){e.user&&(i.state.setState({user:Te(Te({},i.state.user),e.user)}),localStorage.setItem("user",JSON.stringify(i.state.user)),window.top.postMessage(i.state.user,"https://baziigram.com")),i.showGameOverResult(e,n)}))})),Ge(this,"showGameOverResult",(function(n,t){var r="fa"==i.state.language?"rtl":"ltr",a=document.getElementById("gameResult");document.getElementById("loading2").style.display="none",a.innerHTML="",a.classList.add("justify-content-".concat(n.nextLevel?"start":"center")),null!=n.coins&&null==n.nextLevel&&(a.innerHTML+='<div class="d-flex flex-row justify-content-center align-items-start '.concat(r,' flex-fill pt-4">\n <img width="70px" height="70px" src="').concat(e.baseUrl,'/images/coin2.png"/>\n <div  class="text-warning mx-2 ').concat(r,'" id="yourCoins"></div>\n </div>'));var o=document.createElement("div");if(o.className="d-flex flex-row justify-content-center align-items-center mt-2",n.nextLevel){var s=document.createElement("div");s.className=" d-flex w-100 flex-fill flex-column justify-content-between  align-items-center";var d="";null!=n.nextLevel.video?d+='<div  class="w-100 flex-wrap d-flex flex-column justify-content-center">\n<video id="videoplayer" class="video" poster="'.concat(n.nextLevel.map,'"  controls>\n  <source src="').concat(n.nextLevel.video,'" type="video/mp4"/>\nYour browser does not support the video tag.\n</video>\n</div>'):null!=n.nextLevel.description&&(d+='<img  class="level-map"  src="'.concat(n.nextLevel.map,'"/>\n<div  class="next-level-desc flex-wrap">').concat(n.nextLevel.description,"</div>")),s.innerHTML=d;var l=document.createElement("button");l.innerText=e.dictionary.nextLevel[i.state.language],l.className="login-btn",l.addEventListener("click",(function(e){n.nextLevel.link&&""!=n.nextLevel.link&&(window.location.href=n.nextLevel.link)})),o.appendChild(l),400!=n.code&&401!=n.code&&s.appendChild(o),a.appendChild(s),n&&n.nextLevel&&null!=n.nextLevel.video&&document.getElementById("videoplayer").addEventListener("playing",(function(e){var n=document.getElementById("videoplayer");n.requestFullscreen?n.requestFullscreen():n.webkitRequestFullscreen?n.webkitRequestFullscreen():n.msRequestFullScreen&&n.msRequestFullScreen()}))}if(400==n.code||401==n.code&&n.coins>0){var c=document.createElement("div");if(c.className="referal-link text-dark ".concat(r),c.innerText=n.message,400==n.code&&n.link&&""!=n.link){var u=document.createElement("button");u.innerText=e.dictionary.share[i.state.language],u.className=n.nextLevel||401==n.code?"secondary-btn":"login-btn",u.addEventListener("click",(function(e){i.share(n.link)})),o.appendChild(u)}if(401==n.code){var m=document.createElement("button");m.innerText=e.dictionary.login[i.state.language],m.className=n.nextLevel?"secondary-btn":"login-btn",m.addEventListener("click",(function(e){i.authorization(i.state.score)})),o.appendChild(m)}c.appendChild(o),a.appendChild(c)}a.style.visibility="visible",t>0&&(document.getElementById("cheer").style.display="block"),n.user&&i.state.setState({user:Te(Te({},i.state.user),n.user)}),localStorage.setItem("user",JSON.stringify(i.state.user)),window.top.postMessage(i.state.user,"https://baziigram.com"),n.coins>=0&&null==n.nextLevel&&i.showEarnedCoins(n.coins,0);try{xe.gameanalytics.GameAnalytics.addProgressionEvent(xe.gameanalytics.EGAProgressionStatus.Complete,i.state.gameId,null,null,Te(Te({},i.state.user),t)),n.coins>=0&&200==n.code&&xe.gameanalytics.GameAnalytics.addResourceEvent(xe.gameanalytics.EGAResourceFlowType.Source,"Phoecoin",n.coins,"playing","playing",i.state.user)}catch(e){}})),Ge(this,"showEarnedCoins",(function(n,t){document.getElementById("yourCoins").innerText=t+" "+e.dictionary.coin[i.state.language],n!=t&&setTimeout((function(){i.showEarnedCoins(n,t+1)}),1)})),Ge(this,"authorization",(function(e){i.state.gameId,i.state.endTime,i.state.startTime,i.APIService.queue.push({api:i.APIService.post,arguments:Te(Te({},i.request),{cb:function(e){i.dialog.closeDialog(),e.user&&i.state.setState({user:Te(Te({},i.state.user),e.user)}),localStorage.setItem("user",JSON.stringify(i.state.user)),window.top.postMessage(i.state.user,"https://baziigram.com"),window.history.back()}})}),document.getElementById("gameOver").style.display="none",i.APIService.login.showLoginNode()})),this.state=t,this.APIService=r,this.dialog=new u,this.request={}}var t,r;return t=n,(r=[{key:"addGameOverNode",value:function(){var n=document.body;if(void 0!==n){var t=document.createElement("div");t.setAttribute("lang",this.state.language),t.id="gameOver",t.classList.add("gameOver"),Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);var r='<img  class="w-100 jungle" src ="'.concat(e.baseUrl,'/images/back3.png"/>\n    <img  class="phoenix" src ="').concat(e.baseUrl,'/images/phoenix-header2.png"/>\n    <div id="cheer" style="display:none;height:100%;position:absolute;width:100%;height:100%;top:0px;left:0px;z-index:0;">');r+='</div><div id="gameOverContent" >\n    <div class="game-header w-100 d-flex flex-row justify-content-between align-items-center">\n     <img class="moon" src="'.concat(e.baseUrl,'/images/moon6.png"/>\n       <button  class="replay-button" onclick="removeBanner();"  ></button>\n      </div>\n\n      <div id="loading2" class="h-100 flex-fill flex-column justify-content-center"><div  style="display:block;margin:auto;" class="loader"></div></div>\n      <div class="flex-fill d-flex flex-column" id="gameResult"></div>\n    </div>'),t.innerHTML=r,n.appendChild(t)}}},{key:"share",value:function(n){navigator&&navigator.share&&navigator.share({text:e.dictionary.shareTxt[this.state.language],link:n,title:e.dictionary.shateTitle[this.state.language]})}},{key:"goHome",value:function(){window.history.back()}},{key:"endGame",value:function(e){this.state.endTime=(new Date).getTime(),this.state.setState({endTime:this.state.endTime,score:e}),document.getElementById("loading2").style.display="flex",document.getElementById("gameOver").style.display="block",this.service(e,this.state.endTime-this.state.startTime);try{xe.gameanalytics.GameAnalytics.addProgressionEvent(xe.gameanalytics.EGAProgressionStatus.Complete,this.state.gameId,null,null,Te(Te({},this.state.user),e))}catch(e){}}},{key:"endAlternativeGame",value:function(e,n){this.state.endTime=(new Date).getTime(),this.recordGameLevelLog(e,this.state.endTime-this.state.startTime,n);try{xe.gameanalytics.GameAnalytics.addProgressionEvent(xe.gameanalytics.EGAProgressionStatus.Complete,this.state.gameId,null,null,Te(Te({},this.state.user),e))}catch(e){}}},{key:"endGameLevel",value:function(e){this.state.endTime=(new Date).getTime(),this.state.setState({endTime:this.state.endTime,score:e}),document.getElementById("loading2").style.display="flex",document.getElementById("gameOver").style.display="block",this.recordGameLevelLog(e,this.state.endTime-this.state.startTime);try{xe.gameanalytics.GameAnalytics.addProgressionEvent(xe.gameanalytics.EGAProgressionStatus.Complete,this.state.gameId,null,null,Te(Te({},this.state.user),e))}catch(e){}}}])&&Ie(t.prototype,r),Object.defineProperty(t,"prototype",{writable:!1}),n}(),Oe=new ce,Re=new Ae(Oe);function De(e){if("float-dialog"==e.animationName){var n=document.getElementById("help-papiroos-middle"),t=document.createElement("button");t.className="play-button mt-2",t.addEventListener("click",removeBanner),n.appendChild(t),n.classList.add("open-papiroos")}}window.isStopped=!0,window.getUserLanguage=function(){return i()},window.addEventListener("message",(function(e){e.origin.indexOf("https://baziigram.com")>-1&&(localStorage.setItem("user",JSON.stringify(e.data)),Oe&&null==document.getElementsByClassName("start-playing")[0]&&window.loadModule(Oe.moduleSettings))})),localStorage.removeItem("user"),window.loadModule=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("undefined"!=typeof window&&void 0!==document.body){var t=localStorage.getItem("user"),r=window.location.href.split("?"),a=r[1].split("&")[0].replace("gameId=","");Oe.setState({moduleSettings:n,gameId:a,language:i()});var o=0;t?Oe.setState({user:JSON.parse(t)}):(Oe.setState({user:{logo:3,userName:"",coins:0}}),window.top.postMessage("getUser","https://baziigram.com"),o=900),setTimeout((function(){if(null==document.getElementsByClassName("start-playing")[0]){var t="fa"==Oe.language?"rtl":"ltr",r=document.body,i=document.createElement("div");i.setAttribute("lang",Oe.language),i.classList.add("start-playing"),n.help=n.help||{};var a=document.createElement("div"),o=document.createElement("div");o.className="help d-flex flex-column justify-content-center",a.className="".concat(t," phoenix-container"),a.innerHTML='<img  class="phoenix-help" src ="'.concat(e.baseUrl,'/images/phoenix.png"/>'),o.innerHTML='<img  class="papiroos-top" src ="'.concat(e.baseUrl,'/images/papiroos-top.png"/>\n    <div id="help-papiroos-middle" class="papiroos-middle">').concat(n.help.message||n.help.body||"",'</div>\n    <img  class="papiroos-bottom" src ="').concat(e.baseUrl,'/images/papiroos-bottom.png"/>'),a.addEventListener("animationend",De),a.appendChild(o),i.appendChild(a),r.appendChild(i);var s=new V(Oe),d=new _e(Oe,Re);s.addTimer(),s.addPoint(),new N(Oe,Re),d.addGameOverNode(),window.endGame=function(e){d.endGame(e)},window.endAlternativeGame=function(e,n){d.endAlternativeGame(e,n)},window.endGameLevel=function(e){d.endGameLevel(e)}}}),o);try{xe.gameanalytics.GameAnalytics.setEnabledInfoLog(!0),xe.gameanalytics.GameAnalytics("initialize",e.tracker["g-".concat(a)].gk,e.tracker["g-".concat(a)].sk)}catch(e){}}},window.removeBanner=function(e){document.getElementsByClassName("start-playing")[0].style.display="none",document.getElementById("gameOver").style.display="none",document.getElementById("gameResult").style.visibility="hidden",document.getElementById("cheer").style.display="block",Oe.resetState(),Oe.setState({startTime:(new Date).getTime()}),window.isStopped=!1,Oe.moduleSettings.help.startAction();try{xe.gameanalytics.GameAnalytics.setEnabledInfoLog(!0),xe.gameanalytics.GameAnalytics.addProgressionEvent(xe.gameanalytics.EGAProgressionStatus.Start,Oe.gameId,null,null,Oe.user)}catch(e){}}})(),r})()));